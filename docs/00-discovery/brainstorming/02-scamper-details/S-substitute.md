# SCAMPER 詳細分析: S - Substitute (替代)

**返回**: [Overview](../02-scamper-method-overview.md) | [導航](../02-scamper-method.md)

---


## S - Substitute (æ›¿ä»£) âœ… å·²å®Œæˆ

> å•é¡Œ: æœ‰ä»€éº¼å…ƒä»¶å¯ä»¥è¢«æ›¿ä»£ä»¥ç²å¾—æ›´å¥½çš„çµæžœ?

### ðŸŽ¯ åˆ†æžç›®æ¨™
æ‰¾å‡ºç•¶å‰æŠ€è¡“é¸åž‹ä¸­å¯èƒ½å­˜åœ¨çš„å•é¡Œ,ä»¥åŠæ˜¯å¦æœ‰æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆã€‚

---

### 1. æ ¸å¿ƒæŠ€è¡“é¸åž‹è©•ä¼°

#### 1.1 å·¥ä½œæµå¼•æ“Ž: n8n vs Agent Framework

**é—œéµè¨Žè«–**: n8n èˆ‡ Agent Framework æ•´åˆçš„å›°é›£

ç¶“éŽæ·±å…¥è¨Žè«–,ç™¼ç¾æ•´åˆçš„æ ¸å¿ƒæŒ‘æˆ°:
1. **ç‹€æ…‹åŒæ­¥å•é¡Œ**: n8n å·¥ä½œæµç‹€æ…‹ â‰  Agent Framework åŸ·è¡Œç‹€æ…‹
2. **Checkpointing æ”¯æŒ**: Agent Framework çš„ Checkpointing éœ€è¦åœ¨ Agent å±¤é¢è™•ç†
3. **é•·æ™‚é–“åŸ·è¡Œ**: Agent å¯èƒ½åŸ·è¡Œå¾ˆä¹…,n8n å¯èƒ½ timeout

**åŽŸæ–¹æ¡ˆ (å·²å¦æ±º)**:
- n8n ä½œç‚ºä¸»è¦å·¥ä½œæµç·¨æŽ’å¼•æ“Ž
- Agent Framework ä½œç‚ºåŸ·è¡Œå·¥å…·
- âŒ å•é¡Œ: ç„¡æ³•æ”¯æŒ Checkpointing

**æœ€çµ‚æ±ºç­–**: ðŸŽ¯ **è§’è‰²å°èª¿**

```
Agent Framework ä¸»å°Ž (æ ¸å¿ƒç·¨æŽ’å¼•æ“Ž)
     â†“
  ç´” Python ç¨‹å¼ç¢¼å®šç¾©å·¥ä½œæµ
     â†“
  å®Œæ•´æ”¯æŒ Checkpointing
     â†“
  Human-in-the-loop åœ¨ Agent å±¤é¢è™•ç†

n8n è¼”åŠ© (è§¸ç™¼å’Œå·¥å…·)
     â†“
  å®šæ™‚è§¸ç™¼ (Cron)
     â†“
  Webhook è§¸ç™¼
     â†“
  å¯é¸çš„æ•¸æ“šè½‰æ›
```

**æ±ºç­–ç†ç”±**:
- âœ… å®Œæ•´æ”¯æŒ Checkpointing (ç”¨æˆ¶è¦æ±‚,ä¸å¦¥å”)
- âœ… Agent å”ä½œèƒ½åŠ›æœ€å¼·
- âœ… ç¨‹å¼ç¢¼å®šç¾©æ›´éˆæ´» (é©åˆé–‹ç™¼è€…)
- âš ï¸ å¤±åŽ» n8n å¯è¦–åŒ–è¨­è¨ˆå·¥ä½œæµ
- âœ… ä½†æ¥­å‹™äººå“¡å¯é€šéŽ Web UI è§¸ç™¼å’Œç›£æŽ§

---

#### 1.2 å·¥ä½œæµå®šç¾©æ–¹å¼

**è¨Žè«–çš„é¸é …**:

**æ–¹å¼ A: ç´”ç¨‹å¼ç¢¼** âœ… æœ€çµ‚é¸æ“‡
```python
# Agent Framework åŽŸç”Ÿæ–¹å¼
async def cs_ticket_workflow(ticket_id: str):
    # Step 1: åˆ†æž Ticket
    ticket_info = await ticket_analyzer.run(
        task=f"åˆ†æž Ticket #{ticket_id}"
    )

    # Step 2: æŸ¥è©¢å®¢æˆ¶æ•¸æ“š
    customer_data = await customer_data_agent.run(
        task=f"æŸ¥è©¢å®¢æˆ¶æ•¸æ“š",
        context=ticket_info
    )

    # Step 3: ç”Ÿæˆè§£æ±ºæ–¹æ¡ˆ
    solution = await solution_generator.run(
        task="ç”Ÿæˆè§£æ±ºæ–¹æ¡ˆ",
        context={"ticket": ticket_info, "customer": customer_data}
    )

    # Step 4: Checkpoint - Human-in-the-loop
    checkpoint_id = await save_checkpoint({
        "solution": solution,
        "status": "pending_approval"
    })

    return {"checkpoint_id": checkpoint_id, "status": "waiting_for_approval"}

# æ‰¹å‡†å¾Œå¾ž Checkpoint æ¢å¾©
async def resume_from_approval(checkpoint_id: str, approved: bool):
    checkpoint = await load_checkpoint(checkpoint_id)
    if approved:
        result = await action_agent.run(
            task="åŸ·è¡Œè§£æ±ºæ–¹æ¡ˆ",
            context=checkpoint["solution"]
        )
        return {"status": "completed", "result": result}
```

**å„ªå‹¢**:
- âœ… å®Œå…¨éˆæ´» (æ”¯æŒä»»ä½•è¤‡é›œé‚è¼¯)
- âœ… IDE æ”¯æŒ (è‡ªå‹•å®Œæˆã€åž‹åˆ¥æª¢æŸ¥)
- âœ… ç„¡éœ€é¡å¤–é–‹ç™¼ (æ¡†æž¶åŽŸç”Ÿ)
- âœ… å¿«é€Ÿ MVP (ç«‹å³å¯ç”¨)

**æ–¹å¼ B: YAML é…ç½®** âŒ æœªé¸æ“‡
- éœ€è¦é–‹ç™¼ YAML è¼‰å…¥å™¨ (1-2 é€±)
- è¤‡é›œé‚è¼¯å—é™

**æ–¹å¼ C: å¯è¦–åŒ–è¨­è¨ˆå™¨** âŒ MVP ä¸åš,Phase 2 è€ƒæ…®
- é–‹ç™¼æˆæœ¬ 3-4 é€±
- æœƒå»¶é•· MVP æ™‚é–“

**æœ€çµ‚æ±ºç­–**: âœ… **MVP ä½¿ç”¨ç´”ç¨‹å¼ç¢¼,Phase 2 è©•ä¼°å¯è¦–åŒ–è¨­è¨ˆå™¨**

**ç†ç”±**:
- âœ… é–‹ç™¼è€…ç”¨ Python å®šç¾©å·¥ä½œæµ (å¿«é€Ÿéˆæ´»)
- âœ… æ¥­å‹™äººå“¡é€šéŽ Web UI è§¸ç™¼å’Œç›£æŽ§ (ä¸éœ€è¦è¨­è¨ˆå·¥ä½œæµ)
- âœ… ç¯€çœ 3-4 é€±é–‹ç™¼æ™‚é–“
- âœ… MVP æ™‚é–“ä¿æŒ 2-3 å€‹æœˆ

---

#### 1.3 Agent æ¡†æž¶: Microsoft Agent Framework

**æ½›åœ¨é¢¨éšªè©•ä¼°**: Preview ç‰ˆæœ¬çš„é¢¨éšª
- âš ï¸ API å¯èƒ½è®Šå‹• (ç ´å£žæ€§æ›´æ–°)
- âš ï¸ æ–‡æª”å¯èƒ½ä¸å®Œæ•´
- âš ï¸ ç¤¾ç¾¤è¼ƒå° (é‡åˆ°å•é¡Œé›£æ‰¾è§£æ±ºæ–¹æ¡ˆ)
- âš ï¸ ç”Ÿç”¢ç’°å¢ƒç©©å®šæ€§æœªçŸ¥

**æ›¿ä»£é¸é …è€ƒæ…®**:
- **LangGraph**: æˆç†Ÿç©©å®š,ä½†éžå¾®è»Ÿç”Ÿæ…‹ç³»
- **AutoGen**: å¾®è»Ÿç”¢å“,ä½†å³å°‡è¢«å–ä»£
- **Agent Framework**: æœ€æ–°æŠ€è¡“,ä½† Preview ç‰ˆæœ¬

**æœ€çµ‚æ±ºç­–**: âœ… **å …æŒ Agent Framework,æŽ¥å— Preview é¢¨éšª**

**æ±ºç­–ç†ç”±**:
- âœ… æˆ°ç•¥å°é½Š (å¾®è»Ÿç”Ÿæ…‹ç³»)
- âœ… æœ€æ–°åŠŸèƒ½ (çµ±ä¸€ SK + AutoGen)
- âœ… é•·æœŸæŠ€è¡“è·¯ç·šæ­£ç¢º
- âœ… ç”¨æˆ¶é¡˜æ„æ‰¿æ“”é¢¨éšª

**é¢¨éšªç·©è§£æŽªæ–½**:
- ðŸ“ å¯†åˆ‡é—œæ³¨ Agent Framework æ›´æ–°
- ðŸ“ æº–å‚™ API è®Šå‹•çš„æ‡‰å°æ–¹æ¡ˆ (æŠ½è±¡å±¤è¨­è¨ˆ)
- ðŸ“ å»ºç«‹å…§éƒ¨çŸ¥è­˜åº« (è§£æ±ºå¸¸è¦‹å•é¡Œ)
- ðŸ“ èˆ‡å¾®è»ŸæŠ€è¡“æ”¯æŒå»ºç«‹è¯ç¹«

---

#### 1.4 å…¶ä»–æŠ€è¡“æ£§

**ç”¨æˆ¶ç¢ºèªæ»¿æ„,ä¸æ›¿ä»£**:
- âœ… **Backend**: Python FastAPI
- âœ… **Frontend**: React + TypeScript
- âœ… **Database**: PostgreSQL
- âœ… **LLM**: Azure OpenAI

---

### 2. æœ€çµ‚æž¶æ§‹ (åŸºæ–¼ Substitute åˆ†æž)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç”¨æˆ¶ä»‹é¢å±¤ (User Interface)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  React Web UI:                                          â”‚
â”‚  - Agent ç®¡ç† (æŸ¥çœ‹é å®šç¾©çš„ Agent)                       â”‚
â”‚  - å·¥ä½œæµè§¸ç™¼ (ä¸€éµå•Ÿå‹•å ´æ™¯ A/D)                         â”‚
â”‚  - å¯¦æ™‚ç›£æŽ§ Dashboard                                    â”‚
â”‚  - Human-in-the-loop å¯©æ‰¹ä»‹é¢                            â”‚
â”‚  - åŸ·è¡Œæ­·å²å’Œæ—¥èªŒ                                        â”‚
â”‚                                                          â”‚
â”‚  n8n Web UI (è¼”åŠ©):                                     â”‚
â”‚  - å®šæ™‚ä»»å‹™è¨­å®š                                          â”‚
â”‚  - Webhook é…ç½®                                         â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      æ ¸å¿ƒç·¨æŽ’å±¤ (Agent Framework Workflows - Python)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  å ´æ™¯ A: CS å·¥å–®è™•ç† (cs_ticket_workflow.py)             â”‚
â”‚    Step 1: TicketAnalyzer Agent                         â”‚
â”‚    Step 2: CustomerDataAgent (ä¸¦è¡ŒæŸ¥è©¢)                 â”‚
â”‚    Step 3: SolutionGenerator Agent                      â”‚
â”‚    ðŸ’¾ Checkpoint: Human Approval                         â”‚
â”‚    Step 4: ActionExecutor Agent                         â”‚
â”‚                                                          â”‚
â”‚  å ´æ™¯ D: IT é‹ç¶­ (it_ops_workflow.py)                    â”‚
â”‚    Step 1: AlertAnalyzer Agent                          â”‚
â”‚    Step 2: DiagnosticAgent                              â”‚
â”‚    Step 3: SolutionFinder Agent                         â”‚
â”‚    Step 4: DecisionAgent                                â”‚
â”‚    ðŸ’¾ Checkpoint: Human Approval (è¤‡é›œå•é¡Œ)              â”‚
â”‚    Step 5: ActionExecutor Agent                         â”‚
â”‚                                                          â”‚
â”‚  State Manager (PostgreSQL):                            â”‚
â”‚  - Checkpointing ç‹€æ…‹ä¿å­˜                                â”‚
â”‚  - å·¥ä½œæµåŸ·è¡Œæ­·å²                                        â”‚
â”‚  - Human-in-the-loop å¯©æ‰¹è¨˜éŒ„                            â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Backend API Layer (Python FastAPI)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  REST API Endpoints:                                    â”‚
â”‚  - POST /api/workflows/{workflow_name}/execute          â”‚
â”‚  - GET  /api/executions/{execution_id}/status           â”‚
â”‚  - POST /api/checkpoints/{checkpoint_id}/approve        â”‚
â”‚  - GET  /api/executions (æ­·å²)                          â”‚
â”‚                                                          â”‚
â”‚  Agent Framework Runtime:                               â”‚
â”‚  - è¼‰å…¥å’ŒåŸ·è¡Œ Python å·¥ä½œæµ                              â”‚
â”‚  - ç®¡ç† Checkpointing (State Manager)                   â”‚
â”‚  - è™•ç† Human-in-the-loop ç‹€æ…‹                           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç³»çµ±æ•´åˆå±¤ (Connectors)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  - ServiceNow Connector (Incident CRUD)                 â”‚
â”‚  - SharePoint Connector (çŸ¥è­˜åº«æœå°‹)                     â”‚
â”‚  - Dynamics 365 CE Connector (å®¢æˆ¶è³‡æ–™)                  â”‚
â”‚  - MSSQL / PostgreSQL Connector                         â”‚
â”‚  - n8n API (å¯é¸,è§¸ç™¼ n8n å·¥ä½œæµ)                        â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ•¸æ“šå±¤ (PostgreSQL)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - Agent é…ç½®                                            â”‚
â”‚  - å·¥ä½œæµåŸ·è¡Œæ­·å²                                        â”‚
â”‚  - Checkpoint ç‹€æ…‹                                      â”‚
â”‚  - å¯©æ‰¹è¨˜éŒ„                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. Substitute ç¶­åº¦æ ¸å¿ƒç™¼ç¾

#### âœ… ä¸å»ºè­°æ›¿ä»£çš„é …ç›®

| å…ƒä»¶ | åŽŸæ–¹æ¡ˆ | æ˜¯å¦æ›¿ä»£? | æœ€çµ‚æ±ºå®š |
|------|--------|----------|---------|
| **å·¥ä½œæµå¼•æ“Ž** | n8n | âŒ ä¸æ›¿ä»£,è§’è‰²èª¿æ•´ | Agent Framework ä¸»å°Ž<br>n8n è¼”åŠ© (è§¸ç™¼+å·¥å…·) |
| **Agent æ¡†æž¶** | Agent Framework | âŒ ä¸æ›¿ä»£ | å …æŒ,æŽ¥å— Preview é¢¨éšª |
| **å·¥ä½œæµå®šç¾©** | å¾…å®š | âœ… é¸å®š | ç´” Python ç¨‹å¼ç¢¼ |
| **Checkpointing** | å¾…å®š | âœ… å¿…é ˆæ”¯æŒ | å®Œæ•´å¯¦æ–½ (ä¸ç°¡åŒ–) |
| **Backend** | Python FastAPI | âŒ ä¸æ›¿ä»£ | ä¿æŒ |
| **Frontend** | React | âŒ ä¸æ›¿ä»£ | ä¿æŒ |
| **Database** | PostgreSQL | âŒ ä¸æ›¿ä»£ | ä¿æŒ |

---

#### ðŸ’¡ æ ¸å¿ƒæ´žå¯Ÿ

**æ´žå¯Ÿ 1: ç°¡åŒ–æ‰èƒ½å¿«é€Ÿ** ðŸš€
- âœ… ä¸é–‹ç™¼å¯è¦–åŒ–è¨­è¨ˆå™¨ (ç¯€çœ 3-4 é€±)
- âœ… Agent Framework ç´”ç¨‹å¼ç¢¼ (éˆæ´»å¿«é€Ÿ)
- âœ… é–‹ç™¼è€…ä¸»å°Ž,æ¥­å‹™äººå“¡ä½¿ç”¨
- ðŸ“‰ MVP æ™‚é–“: ä¿æŒ **2-3 å€‹æœˆ**

**æ´žå¯Ÿ 2: n8n çš„æ–°å®šä½** ðŸ”„
- å¾žä¸»è§’ â†’ é…è§’
- ä½†ä»æœ‰åƒ¹å€¼: å®šæ™‚è§¸ç™¼ã€Webhookã€æ•¸æ“šè½‰æ›
- Agent Framework å¯ä»¥èª¿ç”¨ n8n (éˆæ´»æ•´åˆ)

**æ´žå¯Ÿ 3: Preview ç‰ˆæœ¬é¢¨éšªå¯æŽ§** âœ…
- å¾®è»Ÿå®˜æ–¹ç”¢å“ (æœ‰æ”¯æŒ)
- æˆ°ç•¥å°é½Š (é•·æœŸæŠ€è¡“è·¯ç·š)
- é¢¨éšªç·©è§£: æŠ½è±¡å±¤è¨­è¨ˆã€ç¤¾ç¾¤åƒèˆ‡

**æ´žå¯Ÿ 4: Checkpointing ä¸å¦¥å”** ðŸ’¾
- Human-in-the-loop æ˜¯æ ¸å¿ƒéœ€æ±‚
- å¿…é ˆåœ¨ Agent å±¤é¢è™•ç† (ä¸ç°¡åŒ–)
- Agent Framework åŽŸç”Ÿæ”¯æŒ (State Manager)

---

### 4. è¡Œå‹•å»ºè­° (åŸºæ–¼ Substitute åˆ†æž)

#### ç«‹å³è¡Œå‹• (Week 1-2)
1. âœ… **ç¢ºå®šæž¶æ§‹**: Agent Framework ä¸»å°Ž,n8n è¼”åŠ©
2. âœ… **é–‹ç™¼ç’°å¢ƒè¨­ç½®**: Agent Framework Python SDK
3. âœ… **State Manager é…ç½®**: PostgreSQL Checkpointing
4. âœ… **å®šç¾©ç¬¬ä¸€å€‹å·¥ä½œæµ**: å ´æ™¯ A (CS å·¥å–®) Python ç¨‹å¼ç¢¼

#### çŸ­æœŸè¡Œå‹• (Week 3-4)
1. ðŸ“ **n8n æ•´åˆ**: è¨­ç½®å®šæ™‚è§¸ç™¼å’Œ Webhook
2. ðŸ“ **Web UI åŸºç¤Ž**: React è§¸ç™¼å’Œç›£æŽ§ä»‹é¢
3. ðŸ“ **Human-in-the-loop UI**: å¯©æ‰¹ä»‹é¢é–‹ç™¼

#### ä¸­æœŸè©•ä¼° (Phase 2)
1. ðŸ”® **è©•ä¼°å¯è¦–åŒ–è¨­è¨ˆå™¨**: æ˜¯å¦éœ€è¦é–‹ç™¼
2. ðŸ”® **Agent Framework ç©©å®šæ€§**: Preview â†’ GA ç‰ˆæœ¬
3. ðŸ”® **n8n ä½¿ç”¨æƒ…æ³**: è©•ä¼°å¯¦éš›åƒ¹å€¼

---

### 5. MVP æŠ€è¡“æ–¹æ¡ˆç¢ºèª âœ…

åŸºæ–¼ Substitute åˆ†æžçš„æ·±å…¥è¨Žè«–ï¼Œä»¥ä¸‹æŠ€è¡“æ±ºç­–å·²ç¢ºèªï¼š

#### æ±ºç­– 4: Checkpointing å¯¦ç¾æ–¹å¼
- **æ—¥æœŸ**: 2025-11-17
- **æ±ºç­–**: è‡ªè¡Œå¯¦ç¾ Checkpointing (PostgreSQL State Manager)
- **ç†ç”±**: å¯¦ç¾è¤‡é›œåº¦å¯æŽ¥å—ï¼Œå®Œå…¨æŽŒæŽ§ç‹€æ…‹ç®¡ç†
- **å¯¦ç¾æ–¹æ¡ˆ**:
  ```python
  # Checkpoint æ•¸æ“šçµæ§‹
  {
    "id": "uuid",
    "workflow_type": "cs_ticket" | "it_ops",
    "workflow_state": {
      "current_step": "awaiting_approval",
      "ticket_id": "...",
      "agent_outputs": [...],
      "context": {...}
    },
    "approval_data": {
      "solution": "...",
      "requires_approval": true
    },
    "status": "pending_approval" | "approved" | "rejected" | "completed",
    "created_at": "ISO8601",
    "updated_at": "ISO8601"
  }
  ```

#### æ±ºç­– 5: å·¥ä½œæµç·¨æŽ’æ–¹å¼
- **æ—¥æœŸ**: 2025-11-17
- **æ±ºç­–**: é¸æ“‡ A - ç´”ç¨‹å¼ç¢¼ Sequential ç·¨æŽ’
- **ç†ç”±**: 
  - âœ… å¿«é€Ÿé–‹ç™¼ MVP (2-3 å€‹æœˆç›®æ¨™)
  - âœ… å®Œå…¨å¯æŽ§å’Œå¯é æ¸¬
  - âœ… IDE æ”¯æŒå’Œé¡žåž‹æª¢æŸ¥
  - âœ… é©åˆé–‹ç™¼è€…ä¸»å°Žçš„å ´æ™¯
- **å¯¦ç¾ç¤ºä¾‹**:
  ```python
  async def cs_ticket_workflow(ticket_id: str):
      # Step 1: åˆ†æž
      result1 = await agent1.run(...)
      
      # Step 2: æŸ¥è©¢
      result2 = await agent2.run(context=result1)
      
      # Step 3: ç”Ÿæˆæ–¹æ¡ˆ
      result3 = await agent3.run(context={result1, result2})
      
      # Step 4: Checkpoint
      checkpoint_id = await save_checkpoint(...)
      
      return {"checkpoint_id": checkpoint_id, "status": "pending"}
  ```

#### æ±ºç­– 6: ä¸åŒå ´æ™¯å…è¨±ä¸åŒç·¨æŽ’æ–¹å¼
- **æ—¥æœŸ**: 2025-11-17
- **æ±ºç­–**: å ´æ™¯ A å’Œ D å…è¨±ä½¿ç”¨ä¸åŒçš„å·¥ä½œæµç·¨æŽ’æ¨¡å¼
- **ç†ç”±**: 
  - å ´æ™¯ A (CS å·¥å–®): æµç¨‹å›ºå®š â†’ Sequential
  - å ´æ™¯ D (IT é‹ç¶­): å¯èƒ½éœ€è¦å‹•æ…‹æ±ºç­– â†’ å¯é¸ SelectorGroupChat æˆ–æ··åˆæ¨¡å¼
  - éˆæ´»æ€§å„ªå…ˆæ–¼ä¸€è‡´æ€§ (MVP éšŽæ®µ)
- **å¾ŒçºŒ**: Phase 2 å¯è©•ä¼°çµ±ä¸€ç·¨æŽ’æ¡†æž¶

#### æ±ºç­– 7: MVP æŠ€è¡“æ–¹æ¡ˆæœ€çµ‚ç¢ºèª
- **æ—¥æœŸ**: 2025-11-17
- **æ ¸å¿ƒæž¶æ§‹**: âœ… **Sequential + Checkpointing**
- **æŠ€è¡“æ£§ç¢ºèª**:
  - **ç·¨æŽ’å¼•æ“Ž**: Agent Framework (Python ç¨‹å¼ç¢¼å®šç¾©)
  - **ç‹€æ…‹ç®¡ç†**: PostgreSQL Checkpointing (è‡ªè¡Œå¯¦ç¾)
  - **Human-in-the-loop**: Checkpoint æš«åœ + Web UI å¯©æ‰¹
  - **ä¼æ¥­æ•´åˆ**: Tools æ–¹å¼ (ServiceNow/Dynamics/SharePoint)
  - **Backend**: Python FastAPI
  - **Frontend**: React + TypeScript
  - **è§¸ç™¼æ©Ÿåˆ¶**: n8n (å®šæ™‚/Webhook) + Web UI æ‰‹å‹•è§¸ç™¼

**é¢¨éšªè©•ä¼°**: âœ… å¯è¡Œæ€§é«˜ï¼ŒæŠ€è¡“é¢¨éšªå¯æŽ§

---

## C - Combine (çµåˆ) âœ… å·²å®Œæˆ

> å•é¡Œ: å¯ä»¥çµåˆå“ªäº›å…ƒä»¶æˆ–æ¦‚å¿µä»¥å‰µé€ æ–°åƒ¹å€¼?

### ðŸŽ¯ åˆ†æžç›®æ¨™

æŽ¢ç´¢ä¸åŒæŠ€è¡“ã€ç³»çµ±ã€æ¦‚å¿µçš„çµåˆæ–¹å¼ï¼Œå‰µé€ ç¨ç‰¹åƒ¹å€¼å’Œå·®ç•°åŒ–åŠŸèƒ½ã€‚

---

### 1. æ™ºèƒ½çµåˆ - Agent + ä¼æ¥­ç³»çµ±

#### å‰µæ–°é»ž A: **è·¨ç³»çµ±é—œè¯åˆ†æž** âœ… é«˜åƒ¹å€¼

**çµåˆæ–¹å¼**: ServiceNow + Dynamics 365 + SharePoint

**å‰µæ–°åƒ¹å€¼**:
```
å‚³çµ±æ–¹å¼:
- ServiceNow å·¥å–®è™•ç† (ç¨ç«‹)
- Dynamics 365 å®¢æˆ¶ç®¡ç† (ç¨ç«‹)  
- SharePoint çŸ¥è­˜åº« (ç¨ç«‹)

Agent çµåˆæ–¹å¼:
1. åŒæ™‚è®€å– 3 å€‹ç³»çµ±çš„æ•¸æ“š
2. Agent åšæ™ºèƒ½é—œè¯åˆ†æž
3. ç™¼ç¾éš±è—çš„é—œè¯å’Œæ¨¡å¼
4. ç”Ÿæˆæ›´å…¨é¢çš„è§£æ±ºæ–¹æ¡ˆ
```

**å¯¦éš›å ´æ™¯**:
```
CS å·¥å–®: "å®¢æˆ¶åé¥‹ç³»çµ±ç™»éŒ„å¤±æ•—"

å‚³çµ±è™•ç†:
â†’ åªçœ‹å·¥å–® â†’ é‡ç½®å¯†ç¢¼ â†’ å®Œæˆ

æ™ºèƒ½é—œè¯è™•ç†:
Step 1: ServiceNow å·¥å–®åˆ†æž
  - å•é¡Œ: ç™»éŒ„å¤±æ•—
  - é »çŽ‡: ä»Šå¤©ç¬¬ 3 æ¬¡å ±å‘Š

Step 2: Dynamics 365 å®¢æˆ¶æ•¸æ“š
  - å®¢æˆ¶: VIP ç´šåˆ¥
  - ç‹€æ…‹: çºŒç´„å¤±æ•— (3 å¤©å‰)
  - è¨‚é–±: å·²éŽæœŸ

Step 3: SharePoint çŸ¥è­˜åº«
  - æ­·å²: é¡žä¼¼å•é¡Œ 5 å€‹æ¡ˆä¾‹
  - æ ¹å› : 80% æ˜¯å¸³æˆ¶æ¬Šé™å•é¡Œ

Agent é—œè¯åˆ†æž:
â†’ ç™¼ç¾: ä¸æ˜¯æŠ€è¡“å•é¡Œï¼Œæ˜¯è¨‚é–±éŽæœŸ
â†’ è§£æ±ºæ–¹æ¡ˆ: 
  1. è¯ç¹«è²¡å‹™éƒ¨é–€æ¢å¾©è¨‚é–±
  2. ä¸»å‹•è¯ç¹«å®¢æˆ¶èªªæ˜Žæƒ…æ³
  3. æä¾› VIP å¿«é€ŸçºŒç´„é€šé“

â†’ çµæžœ: ä¸åªè§£æ±ºç™»éŒ„ï¼Œé‚„æŒ½å›žäº† VIP å®¢æˆ¶
```

**MVP å¯¦ç¾æ–¹æ¡ˆ**:
- âœ… åŸºç¤Žç‰ˆ: Agent åŒæ™‚æŸ¥è©¢ 3 å€‹ç³»çµ±
- âœ… è¦å‰‡å¼•æ“Ž: é å®šç¾©é—œè¯è¦å‰‡ (è¨‚é–±ç‹€æ…‹ + ç™»éŒ„å¤±æ•— = æ¬Šé™å•é¡Œ)
- â¸ï¸ é€²éšŽç‰ˆ (Phase 2): AI è‡ªå‹•ç™¼ç¾æ–°çš„é—œè¯æ¨¡å¼

**ç”¨æˆ¶åé¥‹**: âœ… **æœ‰åƒ¹å€¼ï¼ŒMVP å¿…é ˆåŒ…å«**

---

#### å‰µæ–°é»ž B: **é æ¸¬æ€§ç¶­è­·** ðŸ”„ Phase 2 å„ªå…ˆç´šé«˜

**çµåˆæ–¹å¼**: IT æ­·å²æ•¸æ“š + å¯¦æ™‚ç›£æŽ§ + çŸ¥è­˜åº«

**å‰µæ–°åƒ¹å€¼**:
```
å‚³çµ± IT é‹ç¶­: éŸ¿æ‡‰å¼ (å•é¡Œç™¼ç”Ÿ â†’ è™•ç†)

é æ¸¬å¼ IT é‹ç¶­: ä¸»å‹•å¼ (é æ¸¬å•é¡Œ â†’ æå‰è™•ç†)

çµåˆæ–¹å¼:
1. æ­·å² Alert åˆ†æž (æ¨¡å¼è­˜åˆ¥)
2. å¯¦æ™‚ç³»çµ±ç›£æŽ§ (ç•¶å‰ç‹€æ…‹)
3. çŸ¥è­˜åº«æœ€ä½³å¯¦è¸ (è§£æ±ºæ–¹æ¡ˆ)
â†’ Agent é æ¸¬ä¸¦ä¸»å‹•å»ºè­°ç¶­è­·
```

**å¯¦éš›å ´æ™¯**:
```
å ´æ™¯ D: IT é‹ç¶­è‡ªå‹•åŒ–

æ­·å²æ•¸æ“šåˆ†æž:
- éŽåŽ» 6 å€‹æœˆï¼Œæ¯æœˆ 15 è™Ÿæ•¸æ“šåº«è² è¼‰æ¿€å¢ž
- 3 æ¬¡å°Žè‡´æœå‹™ä¸­æ–· (15 è™Ÿæ™šä¸Š 8-10 é»ž)
- åŽŸå› : æœˆä¸­å ±è¡¨æ‰¹æ¬¡è™•ç†

å¯¦æ™‚ç›£æŽ§ (11 æœˆ 13 è™Ÿ):
- æ•¸æ“šåº«è² è¼‰é–‹å§‹ä¸Šå‡ (æ¯”å¹³æ™‚é«˜ 30%)
- ç£ç¢Ÿç©ºé–“ä½¿ç”¨çŽ‡ 75% (è­¦æˆ’ç·š 80%)

çŸ¥è­˜åº«æ–¹æ¡ˆ:
- ä¸Šæ¬¡å„ªåŒ–: å¢žåŠ ç´¢å¼• + åˆ†æ‰¹è™•ç†
- æ•ˆæžœ: è² è¼‰é™ä½Ž 50%

Agent é æ¸¬:
â†’ 11 æœˆ 15 è™Ÿæ™šä¸Š 8 é»žå¯èƒ½æ•…éšœ (ä¿¡å¿ƒåº¦ 85%)
â†’ å»ºè­°: 11 æœˆ 14 è™ŸåŸ·è¡Œå„ªåŒ– (æå‰ 1 å¤©)
â†’ æ–¹æ¡ˆ: æ‡‰ç”¨ä¹‹å‰æˆåŠŸçš„å„ªåŒ–ç­–ç•¥

IT åœ˜éšŠæ‰¹å‡† â†’ Agent åŸ·è¡Œ â†’ 15 è™Ÿé †åˆ©åº¦éŽ
```

**å¯¦ç¾éšŽæ®µ**:
- âŒ MVP ä¸åŒ…å« (éœ€è¦æ­·å²æ•¸æ“šç´¯ç©)
- âœ… Phase 2 é«˜å„ªå…ˆç´š (6-12 å€‹æœˆå¾Œ)
- ðŸ“Š å‰ç½®æ¢ä»¶: MVP é‹è¡Œ 3-6 å€‹æœˆæ”¶é›†æ•¸æ“š

**ç”¨æˆ¶åé¥‹**: âœ… **æœ‰å¸å¼•åŠ›ï¼Œä½†å…ˆåšå¥½åŸºç¤ŽéŸ¿æ‡‰**

---

### 2. å”ä½œçµåˆ - Multi-Agent å”åŒå‰µæ–°

#### å‰µæ–°é»ž C: **è·¨å ´æ™¯å”ä½œ** âœ… MVP å¯è¡Œ

**çµåˆæ–¹å¼**: å ´æ™¯ A (CS) â†” å ´æ™¯ D (IT)

**å‰µæ–°åƒ¹å€¼**:
```
å‚³çµ±å·¥ä½œæµ: éƒ¨é–€å­¤å³¶
- CS è™•ç†å®¢æˆ¶å•é¡Œ (ç¨ç«‹)
- IT è™•ç†ç³»çµ±å•é¡Œ (ç¨ç«‹)
- éœ€è¦è·¨éƒ¨é–€å”ä½œæ™‚: äººå·¥è½‰æ´¾ (æ…¢ã€å®¹æ˜“éºæ¼)

Agent è·¨å ´æ™¯å”ä½œ:
- CS Agent è‡ªå‹•è­˜åˆ¥æŠ€è¡“å•é¡Œ
- è§¸ç™¼ IT Agent è¨ºæ–·
- IT Agent å›žé¥‹æŠ€è¡“ç´°ç¯€
- CS Agent ç”Ÿæˆå®¢æˆ¶å‹å¥½çš„å›žè¦†
â†’ å…¨ç¨‹è‡ªå‹•åŒ–ï¼Œç„¡ç¸«å”ä½œ
```

**å¯¦éš›å ´æ™¯**:
```
å®¢æˆ¶å·¥å–®: "ä½ å€‘çš„ç³»çµ±å¤ªæ…¢äº†ï¼Œå½±éŸ¿æ¥­å‹™ï¼"

CS Agent (å ´æ™¯ A):
Step 1: åˆ†æžå·¥å–®
  - åˆ†é¡ž: æ€§èƒ½å•é¡Œ
  - æƒ…ç·’: å®¢æˆ¶å¾ˆç”Ÿæ°£ (å„ªå…ˆç´šé«˜)
  - åˆ¤æ–·: éœ€è¦ IT æŠ€è¡“æ”¯æ´

Step 2: è‡ªå‹•è§¸ç™¼ IT å·¥ä½œæµ
  â†’ èª¿ç”¨ IT Agent (å ´æ™¯ D)
  â†’ å‚³éžä¸Šä¸‹æ–‡: å®¢æˆ¶åé¥‹ã€å½±éŸ¿ç¯„åœ

IT Agent (å ´æ™¯ D):
Step 3: ç³»çµ±è¨ºæ–·
  - æª¢æŸ¥æœå‹™å™¨è² è¼‰: æ­£å¸¸
  - æª¢æŸ¥æ•¸æ“šåº«: ç™¼ç¾æ…¢æŸ¥è©¢ (3 å€‹)
  - æª¢æŸ¥ç¶²çµ¡: æ­£å¸¸
  
Step 4: å•é¡Œå®šä½
  - æ ¹å› : æ•¸æ“šåº«ç´¢å¼•ç¼ºå¤±
  - å½±éŸ¿: æŸ¥è©¢æ™‚é–“å¾ž 0.5s â†’ 5s
  - è§£æ±ºæ–¹æ¡ˆ: æ·»åŠ ç´¢å¼• (é è¨ˆ 10 åˆ†é˜å®Œæˆ)

Step 5: å›žé¥‹çµ¦ CS Agent
  â†’ æŠ€è¡“ç´°ç¯€ + é è¨ˆå®Œæˆæ™‚é–“

CS Agent (ç¹¼çºŒ):
Step 6: ç”Ÿæˆå®¢æˆ¶å›žè¦†
  å°ˆæ¥­ç‰ˆæœ¬: "ç¶“è¨ºæ–·ï¼Œç³»çµ±æ…¢çš„åŽŸå› æ˜¯æ•¸æ“šåº«æŸ¥è©¢å„ªåŒ–ä¸è¶³ï¼Œ
             æˆ‘å€‘å·²å®‰æŽ’å„ªåŒ–ï¼Œé è¨ˆ 10 åˆ†é˜å…§å®Œæˆã€‚
             æ„Ÿè¬æ‚¨çš„åé¥‹ï¼Œé€™å¹«åŠ©æˆ‘å€‘æå‡æœå‹™è³ªé‡ã€‚"
  
Step 7: Checkpoint - ç­‰å¾… IT å®Œæˆ
  â†’ 10 åˆ†é˜å¾Œè‡ªå‹•æª¢æŸ¥
  
Step 8: ç¢ºèªä¿®å¾©
  â†’ ç™¼é€è·Ÿé€²éƒµä»¶: "å•é¡Œå·²è§£æ±ºï¼Œè«‹ç¢ºèªç³»çµ±é€Ÿåº¦æ¢å¾©æ­£å¸¸"
```

**æŠ€è¡“å¯¦ç¾**:
```python
# CS Workflow
async def cs_ticket_workflow(ticket_id: str):
    # åˆ†æžå·¥å–®
    analysis = await cs_analyzer.run(task=f"åˆ†æžå·¥å–® #{ticket_id}")
    
    # åˆ¤æ–·æ˜¯å¦éœ€è¦ IT æ”¯æ´
    if analysis.requires_it_support:
        # è·¨å ´æ™¯å”ä½œ: è§¸ç™¼ IT å·¥ä½œæµ
        it_result = await trigger_workflow(
            workflow_name="it_ops_diagnostic",
            context={
                "triggered_by": "cs_workflow",
                "ticket_id": ticket_id,
                "customer_impact": analysis.impact,
                "urgency": analysis.urgency
            }
        )
        
        # çµåˆ IT çµæžœç”Ÿæˆå®¢æˆ¶å›žè¦†
        response = await cs_response_generator.run(
            task="ç”Ÿæˆå®¢æˆ¶å‹å¥½çš„å›žè¦†",
            context={
                "customer_feedback": analysis.customer_message,
                "technical_details": it_result.diagnosis,
                "solution": it_result.solution,
                "eta": it_result.estimated_time
            }
        )
    else:
        # ç´” CS å•é¡Œï¼Œç›´æŽ¥è™•ç†
        response = await cs_solution_generator.run(...)
    
    return response
```

**MVP å¯¦ç¾æ–¹æ¡ˆ**:
- âœ… Phase 1 (MVP): CS â†’ IT å–®å‘è§¸ç™¼
- âœ… å®šç¾©è·¨å ´æ™¯è§¸ç™¼æ¢ä»¶ (è¦å‰‡å¼•æ“Ž)
- âœ… ä¸Šä¸‹æ–‡å‚³éžæ©Ÿåˆ¶
- ðŸ”„ Phase 2: é›™å‘å”ä½œ (IT ä¹Ÿèƒ½è§¸ç™¼ CS)

**ç”¨æˆ¶åé¥‹**: âœ… **MVP å¯è¡Œï¼Œé«˜åƒ¹å€¼åŠŸèƒ½**

---

#### å‰µæ–°é»ž D: **å­¸ç¿’åž‹äººæ©Ÿå”ä½œ** âœ… MVP åŠ åˆ†é …

**çµåˆæ–¹å¼**: Agent è‡ªå‹•åŒ– + Human Checkpoint + åé¥‹å­¸ç¿’

**å‰µæ–°åƒ¹å€¼**:
```
å‚³çµ± Human-in-the-loop: å–®å‘å¯©æ‰¹
- Agent ç”Ÿæˆæ–¹æ¡ˆ
- äººå·¥å¯©æ‰¹: é€šéŽ/æ‹’çµ•
- Agent ä¸å­¸ç¿’

å­¸ç¿’åž‹äººæ©Ÿå”ä½œ: é›™å‘å­¸ç¿’
- Agent ç”Ÿæˆæ–¹æ¡ˆ
- äººå·¥å¯ä»¥ä¿®æ”¹æ–¹æ¡ˆ (ä¸åªé€šéŽ/æ‹’çµ•)
- Agent å­¸ç¿’ä¿®æ”¹æ¨¡å¼
- ä¸‹æ¬¡ææ¡ˆæ›´æº–ç¢º
```

**å¯¦éš›å ´æ™¯**:
```
ç¬¬ 1 æ¬¡ IT Alert: "æ•¸æ“šåº« CPU 90%"

Agent åˆæ­¥æ–¹æ¡ˆ:
  "å»ºè­°ç«‹å³é‡å•Ÿæ•¸æ“šåº«æœå‹™"

äººå·¥å¯©æ‰¹ (IT å°ˆå®¶):
  âŒ æ‹’çµ•
