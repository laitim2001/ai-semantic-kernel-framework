# Agent 創建頁 - Low-Fidelity Wireframe

**版本**: 1.0.0
**日期**: 2025-10-29
**狀態**: ✅ 已完成
**優先級**: P0

[◀ 上一個: Agent 列表](./02-agent-list.md) | [返回索引](./README.md) | [下一個: Agent 詳情 ▶](./04-agent-detail.md)

---

## 1. 頁面概覽

### 用途和目標

Agent 創建頁是用戶創建新 Agent 的入口，提供：
- **快速創建**: 使用預設模板，3 步完成創建
- **自定義創建**: 完整配置選項，滿足高級需求
- **引導式流程**: 逐步引導，減少認知負擔
- **實時預覽**: 配置過程中實時查看效果

### 主要用戶

| Persona | 使用頻率 | 關注重點 |
|---------|---------|---------|
| **Alex（開發者）** | 每週數次 | 快速原型驗證、完整配置控制 |
| **Sarah（分析師）** | 每月幾次 | 簡單模板、清晰引導 |
| **David（管理員）** | 較少使用 | 標準化配置、安全控制 |

### 成功指標

- ✅ **快速創建**: 用戶可在 **2 分鐘內** 完成模板創建
- ✅ **自定義創建**: 提供 **完整配置選項** 但不壓倒用戶
- ✅ **錯誤率**: 表單驗證錯誤率 **<5%**
- ✅ **完成率**: 用戶完成創建的比例 **>80%**

---

## 2. 創建流程設計

### 2.1 雙路徑策略

```
創建 Agent 入口
     │
     ├─────────────────────────────────┬─────────────────────────────────┐
     │                                 │                                 │
     ▼                                 ▼                                 ▼
路徑 1: 快速創建（模板）        路徑 2: 自定義創建             路徑 3: 導入配置
     │                                 │                                 │
     ├─ Step 1: 選擇模板               ├─ Step 1: 基本信息               ├─ 上傳 JSON/YAML
     ├─ Step 2: 配置參數               ├─ Step 2: LLM 配置               └─ 驗證並創建
     ├─ Step 3: 測試確認               ├─ Step 3: Persona 設計
     └─ 完成創建                       ├─ Step 4: 能力選擇
                                       ├─ Step 5: 高級設置
                                       └─ 完成創建
```

### 2.2 快速創建流程（推薦給 Sarah）

**目標**: 3 步完成，2 分鐘內創建

```
Step 1: 選擇模板
┌──────────────────────────────────────────────────────┐
│ 選擇一個模板開始                                      │
│                                                      │
│ [客服助手] [數據分析] [代碼審查] [翻譯助手]          │
│                                                      │
│ 每個模板都預配置了最佳實踐設置                        │
└──────────────────────────────────────────────────────┘

Step 2: 配置參數（最小化）
┌──────────────────────────────────────────────────────┐
│ Agent 名稱: [________________]（必填）                │
│ 描述: [____________________________________]（可選） │
│ 模型: [GPT-4 ▼]（預選）                              │
└──────────────────────────────────────────────────────┘

Step 3: 測試確認
┌──────────────────────────────────────────────────────┐
│ 在創建前測試 Agent                                    │
│ 輸入: [測試問題...]                                  │
│ 回應: [Agent 回覆...]                                │
│ [ 看起來不錯，創建 Agent ]                            │
└──────────────────────────────────────────────────────┘
```

### 2.3 自定義創建流程（推薦給 Alex）

**目標**: 完整控制，5 步完成

```
Step 1: 基本信息
├─ Agent 名稱（必填）
├─ 描述（可選）
├─ 圖標（可選）
└─ 標籤（可選）

Step 2: LLM 配置
├─ Provider（OpenAI / Azure / Anthropic）
├─ 模型選擇
├─ Temperature
├─ Max Tokens
└─ 其他參數

Step 3: Persona 設計
├─ System Prompt
├─ 對話風格
├─ Few-Shot 範例
└─ 約束條件

Step 4: 能力選擇
├─ 知識庫檢索
├─ 函數調用
├─ 代碼執行
└─ 其他插件

Step 5: 高級設置
├─ 安全設置
├─ 速率限制
├─ 日誌級別
└─ 回調配置
```

---

## 3. 佈局結構（Desktop - 1920x1080）

### 3.1 初始選擇頁面

```
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗
║  🏠 Semantic Kernel          🔍 Search (Cmd+K)              🔔(3)  👤Alex Chen  ⚙️  ❓               ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ ┌─────────────┐ ┌─────────────────────────────────────────────────────────────────────────────────┐  ║
║ │ 🏠 首頁     │ │                                                                                 │  ║
║ │ 🤖 Agents   │ │   【創建 Agent】                                         [× 取消]               │  ║
║ │ 💬 對話     │ │   開始創建您的 AI Agent                                                         │  ║
║ │ 🧠 知識庫   │ │                                                                                 │  ║
║ │ 🔬 代碼執行 │ │   ─────────────────────────────────────────────────────────────────────────   │  ║
║ │ 📊 SQL查詢  │ │                                                                                 │  ║
║ │ 🔄 工作流   │ │   選擇創建方式                                                                  │  ║
║ │ 👤 Persona  │ │   ═══════════════════════════════════════════════════════════════════════      │  ║
║ │ ─────────   │ │                                                                                 │  ║
║ │ 📈 Analytics│ │   ┌───────────────────────────┐  ┌───────────────────────────┐                │  ║
║ │ ⚙️ Settings │ │   │ 🚀 快速創建（推薦）       │  │ ⚙️ 自定義創建             │                │  ║
║ └─────────────┘ │   │                           │  │                           │                │  ║
║                 │   │ 使用預設模板，3 步完成     │  │ 完整配置選項，靈活控制     │                │  ║
║                 │   │                           │  │                           │                │  ║
║                 │   │ ✓ 2 分鐘快速創建          │  │ ✓ 完整的配置控制          │                │  ║
║                 │   │ ✓ 最佳實踐預設            │  │ ✓ 高級功能支持            │                │  ║
║                 │   │ ✓ 適合新手使用            │  │ ✓ 適合開發者使用          │                │  ║
║                 │   │                           │  │                           │                │  ║
║                 │   │ [ 使用模板創建 → ]        │  │ [ 自定義創建 → ]          │                │  ║
║                 │   └───────────────────────────┘  └───────────────────────────┘                │  ║
║                 │                                                                                 │  ║
║                 │   ┌───────────────────────────┐                                                │  ║
║                 │   │ 📥 導入配置               │                                                │  ║
║                 │   │                           │                                                │  ║
║                 │   │ 從 JSON/YAML 文件導入     │                                                │  ║
║                 │   │ Agent 配置                │                                                │  ║
║                 │   │                           │                                                │  ║
║                 │   │ [ 選擇文件 ]              │                                                │  ║
║                 │   └───────────────────────────┘                                                │  ║
║                 │                                                                                 │  ║
║                 │   ─────────────────────────────────────────────────────────────────────────   │  ║
║                 │                                                                                 │  ║
║                 │   💡 提示: 不確定選哪個？大多數用戶從快速創建開始。                             │  ║
║                 │                                                                                 │  ║
║                 └─────────────────────────────────────────────────────────────────────────────────┘  ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

### 3.2 快速創建 - Step 1: 選擇模板

```
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗
║  🏠 Semantic Kernel          🔍 Search (Cmd+K)              🔔(3)  👤Alex Chen  ⚙️  ❓               ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════╣
║ ┌─────────────┐ ┌─────────────────────────────────────────────────────────────────────────────────┐  ║
║ │ 🏠 首頁     │ │                                                                                 │  ║
║ │ 🤖 Agents   │ │   【創建 Agent - 快速創建】                                                     │  ║
║ │ 💬 對話     │ │   ① 選擇模板  →  ② 配置參數  →  ③ 測試確認                                    │  ║
║ │ 🧠 知識庫   │ │   ═══════════                                                                   │  ║
║ │ 🔬 代碼執行 │ │                                                                                 │  ║
║ │ 📊 SQL查詢  │ │   ─────────────────────────────────────────────────────────────────────────   │  ║
║ │ 🔄 工作流   │ │                                                                                 │  ║
║ │ 👤 Persona  │ │   選擇一個模板開始                                                              │  ║
║ │ ─────────   │ │   每個模板都預配置了最佳實踐設置，您可以在下一步微調                             │  ║
║ │ 📈 Analytics│ │                                                                                 │  ║
║ │ ⚙️ Settings │ │   ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐            │  ║
║ └─────────────┘ │   │ 💬 客服助手      │  │ 📊 數據分析助手  │  │ 🔍 代碼審查助手  │            │  ║
║                 │   │ ═════════════════│  │ ═════════════════│  │ ═════════════════│            │  ║
║                 │   │                  │  │                  │  │                  │            │  ║
║                 │   │ 提供智能客服支援 │  │ 協助業務人員進行 │  │ 自動審查代碼質量 │            │  ║
║                 │   │ 解答產品和訂單問 │  │ 數據分析和報表生 │  │ 提供改進建議     │            │  ║
║                 │   │ 題               │  │ 成               │  │                  │            │  ║
║                 │   │                  │  │                  │  │                  │            │  ║
║                 │   │ 模型: GPT-4      │  │ 模型: GPT-4      │  │ 模型: GPT-4      │            │  ║
║                 │   │ 知識庫: 是       │  │ 代碼執行: 是     │  │ 函數調用: 是     │            │  ║
║                 │   │                  │  │                  │  │                  │            │  ║
║                 │   │ [選擇此模板 ✓]   │  │ [選擇此模板]     │  │ [選擇此模板]     │            │  ║
║                 │   └──────────────────┘  └──────────────────┘  └──────────────────┘            │  ║
║                 │                                                                                 │  ║
║                 │   ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐            │  ║
║                 │   │ 🌐 翻譯助手      │  │ ✍️ 內容生成助手  │  │ 📧 郵件助手      │            │  ║
║                 │   │ ═════════════════│  │ ═════════════════│  │ ═════════════════│            │  ║
║                 │   │                  │  │                  │  │                  │            │  ║
║                 │   │ 多語言翻譯，支援 │  │ 生成文章、廣告文 │  │ 自動撰寫和回覆專 │            │  ║
║                 │   │ 50+ 種語言       │  │ 案、社交媒體內容 │  │ 業郵件           │            │  ║
║                 │   │                  │  │                  │  │                  │            │  ║
║                 │   │ 模型: GPT-4      │  │ 模型: GPT-4      │  │ 模型: GPT-4      │            │  ║
║                 │   │ 函數調用: 否     │  │ 函數調用: 否     │  │ 知識庫: 是       │            │  ║
║                 │   │                  │  │                  │  │                  │            │  ║
║                 │   │ [選擇此模板]     │  │ [選擇此模板]     │  │ [選擇此模板]     │            │  ║
║                 │   └──────────────────┘  └──────────────────┘  └──────────────────┘            │  ║
║                 │                                                                                 │  ║
║                 │   [ 📚 瀏覽更多模板 (23 個) ]                                                   │  ║
║                 │                                                                                 │  ║
║                 │   ─────────────────────────────────────────────────────────────────────────   │  ║
║                 │                                                                                 │  ║
║                 │   [◀ 返回]                                              [下一步：配置參數 →]    │  ║
║                 │                                                                                 │  ║
║                 └─────────────────────────────────────────────────────────────────────────────────┘  ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

### 3.3 快速創建 - Step 2: 配置參數

```
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗
║  【創建 Agent - 快速創建】                                                            [× 取消]        ║
║  ① 選擇模板  →  ② 配置參數  →  ③ 測試確認                                                           ║
║                  ═══════════                                                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                       ║
║  ┌────────────────────────────────────────────┐  ┌────────────────────────────────────────────────┐ ║
║  │ 配置您的 Agent                             │  │ 💬 客服助手                                    │ ║
║  │                                            │  │ ───────────────────────────────────────────    │ ║
║  │ ──────────────────────────────────────────│  │                                                │ ║
║  │                                            │  │ 這是一個預覽窗口，您可以看到配置的實時效果      │ ║
║  │ Agent 名稱 *                               │  │                                                │ ║
║  │ ┌────────────────────────────────────────┐│  │ 當前配置:                                      │ ║
║  │ │ 我的客服助手                           ││  │ • 名稱: 我的客服助手                           │ ║
║  │ └────────────────────────────────────────┘│  │ • 模型: GPT-4                                  │ ║
║  │ 最多 50 個字符                             │  │ • Temperature: 0.7                             │ ║
║  │                                            │  │                                                │ ║
║  │ 描述（可選）                               │  │ 測試對話:                                      │ ║
║  │ ┌────────────────────────────────────────┐│  │ ┌────────────────────────────────────────┐    │ ║
║  │ │ 為客戶提供產品諮詢和訂單支援           ││  │ │ 用戶: 你好，我想查詢訂單狀態            │    │ ║
║  │ │                                        ││  │ │                                        │    │ ║
║  │ │                                        ││  │ │ Agent: 您好！我很樂意協助您查詢訂單    │    │ ║
║  │ └────────────────────────────────────────┘│  │ │ 狀態。請提供您的訂單號碼...            │    │ ║
║  │ 最多 200 個字符                            │  │ └────────────────────────────────────────┘    │ ║
║  │                                            │  │                                                │ ║
║  │ LLM 模型                                   │  │ [ 更改測試輸入 ]                               │ ║
║  │ ┌────────────────────────────────────────┐│  │                                                │ ║
║  │ │ GPT-4 ▼                                ││  │                                                │ ║
║  │ └────────────────────────────────────────┘│  └────────────────────────────────────────────────┘ ║
║  │ 💡 推薦使用 GPT-4，最佳性能和理解能力      │                                                    ║
║  │                                            │                                                    ║
║  │ Temperature（創造力）                      │                                                    ║
║  │ ┌────────────────────────────────────────┐│                                                    ║
║  │ │ ●────────────────────────             ││  ← 滑桿控制                                        ║
║  │ └────────────────────────────────────────┘│                                                    ║
║  │ 0.7  (平衡模式)                            │                                                    ║
║  │ 💡 較低值更專注，較高值更有創意            │                                                    ║
║  │                                            │                                                    ║
║  │ 高級設置（可選）                           │                                                    ║
║  │ [ 展開高級設置 ▼ ]                        │                                                    ║
║  │                                            │                                                    ║
║  │ ┌────────────────────────────────────────┐│                                                    ║
║  │ │ Max Tokens: 2000                       ││  ← 折疊的高級選項                                  ║
║  │ │ Top P: 1.0                             ││                                                    ║
║  │ │ Frequency Penalty: 0.0                 ││                                                    ║
║  │ └────────────────────────────────────────┘│                                                    ║
║  │                                            │                                                    ║
║  └────────────────────────────────────────────┘                                                    ║
║                                                                                                       ║
║  ─────────────────────────────────────────────────────────────────────────────────────────────────   ║
║                                                                                                       ║
║  [◀ 上一步：選擇模板]                                             [下一步：測試確認 →]              ║
║                                                                                                       ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

### 3.4 快速創建 - Step 3: 測試確認

```
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗
║  【創建 Agent - 快速創建】                                                            [× 取消]        ║
║  ① 選擇模板  →  ② 配置參數  →  ③ 測試確認                                                           ║
║                                  ═══════════                                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                       ║
║  測試您的 Agent                                                                                       ║
║  在創建前，先測試 Agent 是否符合預期                                                                  ║
║                                                                                                       ║
║  ─────────────────────────────────────────────────────────────────────────────────────────────────   ║
║                                                                                                       ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐     ║
║  │ 測試對話                                                                                     │     ║
║  │ ─────────────────────────────────────────────────────────────────────────────────────────── │     ║
║  │                                                                                               │     ║
║  │ 👤 用戶: 你好，我想查詢我的訂單狀態，訂單號是 #12345                                         │     ║
║  │                                                                                               │     ║
║  │ 🤖 Agent: 您好！我很樂意協助您查詢訂單狀態。請稍等，我正在為您查詢訂單 #12345...             │     ║
║  │                                                                                               │     ║
║  │    經查詢，您的訂單 #12345 目前狀態為「配送中」，預計將於 2025-10-31 送達。                 │     ║
║  │    您可以通過以下連結追蹤配送進度: [追蹤連結]                                                 │     ║
║  │                                                                                               │     ║
║  │    還有其他需要協助的嗎？                                                                     │     ║
║  │                                                                                               │     ║
║  │ ─────────────────────────────────────────────────────────────────────────────────────────── │     ║
║  │                                                                                               │     ║
║  │ 輸入測試消息:                                                                                 │     ║
║  │ ┌───────────────────────────────────────────────────────────────────────────────────────┐   │     ║
║  │ │ 請幫我退貨...                                                                     [發送]│   │     ║
║  │ └───────────────────────────────────────────────────────────────────────────────────────┘   │     ║
║  │                                                                                               │     ║
║  └─────────────────────────────────────────────────────────────────────────────────────────────┘     ║
║                                                                                                       ║
║  測試結果評估                                                                                         ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐     ║
║  │ ✓ 回應速度: 1.2 秒                                                                           │     ║
║  │ ✓ 語氣友善，符合客服助手的設定                                                               │     ║
║  │ ✓ 提供了明確的訂單狀態信息                                                                   │     ║
║  │                                                                                               │     ║
║  │ 💡 建議: Agent 表現良好，可以創建使用。                                                      │     ║
║  └─────────────────────────────────────────────────────────────────────────────────────────────┘     ║
║                                                                                                       ║
║  ┌─────────────────────────────────────────────────────────────────────────────────────────────┐     ║
║  │ ⚙️ Agent 配置摘要                                                                            │     ║
║  │ ─────────────────────────────────────────────────────────────────────────────────────────── │     ║
║  │ • 名稱: 我的客服助手                                                                         │     ║
║  │ • 描述: 為客戶提供產品諮詢和訂單支援                                                         │     ║
║  │ • 模型: GPT-4                                                                                │     ║
║  │ • Temperature: 0.7                                                                            │     ║
║  │ • 知識庫: 產品目錄、常見問題                                                                 │     ║
║  │ • 函數調用: 訂單查詢、物流追蹤                                                               │     ║
║  └─────────────────────────────────────────────────────────────────────────────────────────────┘     ║
║                                                                                                       ║
║  ─────────────────────────────────────────────────────────────────────────────────────────────────   ║
║                                                                                                       ║
║  [◀ 上一步：配置參數]      [ 需要調整配置 ]                   [ 創建 Agent →]                       ║
║                                                                      (藍色主按鈕)                     ║
║                                                                                                       ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

### 3.5 自定義創建 - Step 1: 基本信息

```
╔═══════════════════════════════════════════════════════════════════════════════════════════════════════╗
║  【創建 Agent - 自定義創建】                                                          [× 取消]        ║
║  ① 基本信息  →  ② LLM 配置  →  ③ Persona 設計  →  ④ 能力選擇  →  ⑤ 高級設置                         ║
║  ═══════════                                                                                          ║
╠═══════════════════════════════════════════════════════════════════════════════════════════════════════╣
║                                                                                                       ║
║  ┌────────────────────────────────────────────┐  ┌────────────────────────────────────────────────┐ ║
║  │ 基本信息                                   │  │ 📝 填寫說明                                    │ ║
║  │                                            │  │ ───────────────────────────────────────────    │ ║
║  │ ──────────────────────────────────────────│  │                                                │ ║
║  │                                            │  │ Agent 名稱是識別您的 Agent 的主要方式，        │ ║
║  │ Agent 名稱 *                               │  │ 建議使用描述性的名稱。                         │ ║
║  │ ┌────────────────────────────────────────┐│  │                                                │ ║
║  │ │ ________________________________       ││  │ 範例:                                          │ ║
║  │ └────────────────────────────────────────┘│  │ • GPT-4 產品推薦助手                           │ ║
║  │ 最多 50 個字符                             │  │ • 數據分析專家 Agent                           │ ║
║  │                                            │  │ • 多語言翻譯機器人                             │ ║
║  │ 描述（可選）                               │  │                                                │ ║
║  │ ┌────────────────────────────────────────┐│  │ 💡 提示:                                       │ ║
║  │ │                                        ││  │ 良好的描述能幫助團隊成員快速理解此 Agent       │ ║
║  │ │                                        ││  │ 的用途。                                       │ ║
║  │ │                                        ││  │                                                │ ║
║  │ │                                        ││  │                                                │ ║
║  │ └────────────────────────────────────────┘│  └────────────────────────────────────────────────┘ ║
║  │ 最多 200 個字符                            │                                                    ║
║  │                                            │                                                    ║
║  │ 圖標（可選）                               │                                                    ║
║  │ [ 選擇圖標 ]  或  [ 上傳圖片 ]             │                                                    ║
║  │ ┌─┬─┬─┬─┬─┬─┬─┬─┐                         │                                                    ║
║  │ │🤖│💬│📊│🔬│📈│🌐│✍️│📧│                    │  ← 圖標選擇器                                   ║
║  │ └─┴─┴─┴─┴─┴─┴─┴─┘                         │                                                    ║
║  │                                            │                                                    ║
║  │ 標籤（可選）                               │                                                    ║
║  │ ┌────────────────────────────────────────┐│                                                    ║
║  │ │ #客服 #GPT-4                       [+] ││  ← 輸入標籤，Enter 添加                            ║
║  │ └────────────────────────────────────────┘│                                                    ║
║  │ 常用標籤: [#客服] [#分析] [#開發] [#SQL]   │                                                    ║
║  │                                            │                                                    ║
║  │ 可見性                                     │                                                    ║
║  │ ⦿ 私有（只有您可以看到和使用）             │                                                    ║
║  │ ○ 團隊共享（團隊成員可以看到和使用）       │                                                    ║
║  │ ○ 公開（所有用戶可以看到，但只有您可編輯） │                                                    ║
║  │                                            │                                                    ║
║  └────────────────────────────────────────────┘                                                    ║
║                                                                                                       ║
║  ─────────────────────────────────────────────────────────────────────────────────────────────────   ║
║                                                                                                       ║
║  [◀ 返回選擇]        [ 保存為草稿 ]                                    [下一步：LLM 配置 →]         ║
║                                                                                                       ║
╚═══════════════════════════════════════════════════════════════════════════════════════════════════════╝
```

---

## 4. 內容層次詳細定義

### Level 1: 頁面標題與進度指示

```
┌───────────────────────────────────────────────────────────────┐
│ 【創建 Agent - 快速創建】                         [× 取消]     │  ← H1: 32px
│ ① 選擇模板  →  ② 配置參數  →  ③ 測試確認                     │  ← 進度指示器
│ ═══════════                                                   │     (當前步驟加粗)
└───────────────────────────────────────────────────────────────┘
```

### Level 2: 主要內容區域

**快速創建 - 模板選擇**:
```
┌──────────────────┐
│ 💬 客服助手      │  ← H3: 20px + Icon
│ ═════════════════│  ← 選中狀態（粗線）
│                  │
│ 提供智能客服支援 │  ← Body: 14px
│ 解答產品和訂單問 │
│ 題               │
│                  │
│ 模型: GPT-4      │  ← Small: 12px, 灰色
│ 知識庫: 是       │
│                  │
│ [選擇此模板 ✓]   │  ← 主按鈕
└──────────────────┘
```

**自定義創建 - 表單字段**:
```
Agent 名稱 *                               ← Label: 12px, Medium
┌────────────────────────────────────────┐
│ ________________________________       │  ← Input: 14px
└────────────────────────────────────────┘
最多 50 個字符                             ← Caption: 11px, 灰色
```

### Level 3: 輔助信息（右側面板）

```
┌────────────────────────────────────────┐
│ 💬 客服助手                            │  ← 預覽標題
│ ───────────────────────────────────────│
│                                        │
│ 這是一個預覽窗口，您可以看到配置的實時 │  ← 說明文字
│ 效果                                   │
│                                        │
│ 當前配置:                              │
│ • 名稱: 我的客服助手                   │  ← 配置列表
│ • 模型: GPT-4                          │
│ • Temperature: 0.7                     │
│                                        │
│ 測試對話:                              │
│ ┌────────────────────────────────────┐│
│ │ 用戶: 你好...                      ││  ← 模擬對話
│ │ Agent: 您好！...                   ││
│ └────────────────────────────────────┘│
│                                        │
│ [ 更改測試輸入 ]                       │
└────────────────────────────────────────┘
```

### Level 4: 底部操作欄

```
[◀ 上一步：選擇模板]      [ 保存為草稿 ]              [下一步：配置參數 →]
(次要按鈕)               (次要按鈕)                  (主按鈕，藍色)
```

---

## 5. 互動元素

### 5.1 模板選擇

**選擇狀態**:
```
未選中:                      選中:
┌──────────────────┐        ┌══════════════════┐
│ 💬 客服助手      │        ║ 💬 客服助手      ║  ← 粗邊框（藍色）
│ ─────────────────│        ║ ═════════════════║
│ [選擇此模板]     │        ║ [選擇此模板 ✓]   ║  ← 顯示勾選標記
└──────────────────┘        ╚══════════════════╝
```

**懸停效果**:
- 邊框顏色變為藍色
- 輕微陰影增強
- [選擇此模板] 按鈕變為 [查看詳情]

### 5.2 表單驗證

**實時驗證**:
```
Agent 名稱 *                               ← 必填標記
┌────────────────────────────────────────┐
│ A                                      │  ← 輸入時實時驗證
└────────────────────────────────────────┘
⚠️ 名稱至少需要 3 個字符                    ← 驗證錯誤（紅色）

┌────────────────────────────────────────┐
│ 我的客服助手                           │  ← 驗證通過
└────────────────────────────────────────┘
✓ 名稱可用                                  ← 驗證成功（綠色）
```

**提交驗證**:
```
點擊 [下一步] 時:
1. 檢查所有必填字段
2. 顯示第一個錯誤的字段
3. 滾動到錯誤位置
4. 聚焦到錯誤字段
```

### 5.3 實時預覽

**配置變更 → 預覽更新**:
```
用戶修改 Temperature:
┌────────────────────────────────────────┐
│ ●────────────────────────────         │  ← 滑桿移動
└────────────────────────────────────────┘
0.7 → 0.9

預覽窗口實時更新:
┌────────────────────────────────────────┐
│ 測試對話:                              │
│ 🤖 Agent: (更有創意的回應...)          │  ← 自動重新生成
└────────────────────────────────────────┘
```

### 5.4 步驟導航

**進度指示器**:
```
① 選擇模板  →  ② 配置參數  →  ③ 測試確認
═══════════                                  ← 當前步驟
(藍色粗體)     (灰色)          (灰色)

點擊已完成的步驟可返回修改
```

**底部按鈕狀態**:
| 步驟 | 上一步 | 保存草稿 | 下一步/完成 |
|------|-------|---------|------------|
| Step 1 | 返回選擇 | 保存為草稿 | 下一步 |
| Step 2 | 上一步 | 保存為草稿 | 下一步 |
| Step 3 | 上一步 | 保存為草稿 | 創建 Agent ✓ |

### 5.5 保存草稿

**自動保存**:
- 每 30 秒自動保存
- 表單字段失去焦點時保存
- 顯示保存狀態: "已保存" / "保存中..." / "保存失敗"

**手動保存**:
```
點擊 [保存為草稿]:
1. 驗證當前步驟的必填字段
2. 保存到草稿箱
3. 顯示成功提示
4. 可以選擇 [繼續編輯] 或 [返回列表]
```

---

## 6. 響應式設計

### 6.1 平板版（768px - 1279px）

**佈局變化**:
- 模板卡片從 3 列變為 2 列
- 預覽面板折疊為底部面板（可展開）
- 表單字段寬度調整為 100%

```
╔═══════════════════════════════════════════════════╗
║ 【創建 Agent - 快速創建】             [× 取消]   ║
║ ① 選擇模板  →  ② 配置參數  →  ③ 測試確認        ║
╠═══════════════════════════════════════════════════╣
║                                                   ║
║ ┌─────────────────┐  ┌─────────────────┐        ║
║ │ 💬 客服助手     │  │ 📊 數據分析助手 │        ║ ← 2 列
║ │ [選擇此模板]    │  │ [選擇此模板]    │        ║
║ └─────────────────┘  └─────────────────┘        ║
║                                                   ║
║ ┌─────────────────┐  ┌─────────────────┐        ║
║ │ 🔍 代碼審查助手 │  │ 🌐 翻譯助手     │        ║
║ │ [選擇此模板]    │  │ [選擇此模板]    │        ║
║ └─────────────────┘  └─────────────────┘        ║
║                                                   ║
║ [ 📚 瀏覽更多模板 ]                              ║
║                                                   ║
║ ─────────────────────────────────────────────    ║
║                                                   ║
║ [◀ 返回]                    [下一步：配置參數 →] ║
║                                                   ║
╚═══════════════════════════════════════════════════╝
```

### 6.2 移動版（<768px）

**佈局簡化**:
- 模板卡片單列顯示
- 進度指示器簡化為步驟數字
- 預覽功能隱藏（可在測試步驟查看）
- 表單字段垂直堆疊

```
╔═══════════════════════════════════════════╗
║ ☰  創建 Agent                    ×       ║
║ 步驟 1/3                                 ║
╠═══════════════════════════════════════════╣
║                                           ║
║ 選擇模板                                 ║
║                                           ║
║ ┌───────────────────────────────────────┐║
║ │ 💬 客服助手                           │║
║ │ ─────────────────────────────────────│║ ← 1 列，垂直滾動
║ │ 提供智能客服支援，解答產品和訂單問題  │║
║ │                                       │║
║ │ 模型: GPT-4 | 知識庫: 是              │║
║ │                                       │║
║ │ [ 選擇此模板 ✓ ]                      │║
║ └───────────────────────────────────────┘║
║                                           ║
║ ┌───────────────────────────────────────┐║
║ │ 📊 數據分析助手                       │║
║ │ ─────────────────────────────────────│║
║ │ 協助業務人員進行數據分析和報表生成    │║
║ │                                       │║
║ │ 模型: GPT-4 | 代碼執行: 是            │║
║ │                                       │║
║ │ [ 選擇此模板 ]                        │║
║ └───────────────────────────────────────┘║
║                                           ║
║ [ 瀏覽更多... ]                          ║
║                                           ║
║ ───────────────────────────────────────  ║
║                                           ║
║ [ 下一步 → ]                             ║ ← 全寬按鈕
║                                           ║
╚═══════════════════════════════════════════╝
```

---

## 7. 可訪問性（Accessibility）

### 7.1 鍵盤導航

**Tab 順序**:
1. 路徑選擇（快速創建 / 自定義創建 / 導入配置）
2. 模板卡片（按行從左到右）
3. 表單字段（從上到下）
4. 底部操作按鈕（上一步 → 保存草稿 → 下一步）

**快捷鍵**:
| 快捷鍵 | 操作 |
|--------|------|
| `Cmd+Enter` | 進入下一步 / 創建 Agent |
| `Cmd+S` | 保存為草稿 |
| `Esc` | 取消並返回 |
| `←/→` | 在模板間導航 |
| `Space` | 選擇模板 |

### 7.2 ARIA 標籤

```html
<!-- 進度指示器 -->
<nav aria-label="創建步驟" role="navigation">
  <ol>
    <li aria-current="step">① 選擇模板</li>
    <li>② 配置參數</li>
    <li>③ 測試確認</li>
  </ol>
</nav>

<!-- 模板卡片 -->
<button
  role="radio"
  aria-checked="true"
  aria-label="選擇客服助手模板"
  aria-describedby="template-desc-1"
>
  <h3>客服助手</h3>
  <p id="template-desc-1">提供智能客服支援，解答產品和訂單問題</p>
</button>

<!-- 表單字段 -->
<label for="agent-name">Agent 名稱 <span aria-label="必填">*</span></label>
<input
  id="agent-name"
  type="text"
  required
  aria-required="true"
  aria-invalid="false"
  aria-describedby="agent-name-help"
>
<span id="agent-name-help">最多 50 個字符</span>

<!-- 驗證錯誤 -->
<span role="alert" aria-live="assertive">
  ⚠️ 名稱至少需要 3 個字符
</span>
```

### 7.3 表單可訪問性

**必填字段標記**:
- 視覺標記: 紅色 *
- 屏幕閱讀器: `aria-required="true"`
- 表單提交驗證: HTML5 `required` 屬性

**錯誤提示**:
- 視覺: 紅色文字 + 圖標
- 屏幕閱讀器: `aria-invalid="true"` + `aria-describedby`
- 自動聚焦到第一個錯誤字段

---

## 8. 性能優化

### 8.1 模板加載

**延遲加載（Lazy Loading）**:
```
首屏加載: 前 6 個常用模板
滾動加載: 剩餘模板按需加載

┌──────────────────┐
│ 模板 1-6         │  ← 立即加載
├──────────────────┤
│ [ 加載更多... ]  │  ← 點擊或滾動時加載
└──────────────────┘
```

**緩存策略**:
- 模板列表緩存 10 分鐘
- 用戶草稿實時同步（WebSocket）
- 圖標和圖片緩存到 localStorage

### 8.2 表單性能

**防抖（Debounce）**:
```typescript
// 名稱可用性檢查（500ms 防抖）
const checkNameAvailability = useDebounce(async (name: string) => {
  const isAvailable = await api.checkAgentName(name);
  setNameStatus(isAvailable ? 'available' : 'taken');
}, 500);
```

**自動保存（節流）**:
```typescript
// 每 30 秒自動保存一次
const autoSave = useThrottle(() => {
  saveDraft(formData);
}, 30000);
```

### 8.3 預覽優化

**虛擬測試**:
```
用戶修改配置 → 本地模擬回應（無需 API 調用）
只有點擊 [更改測試輸入] 時才真實調用 API
```

**流式響應（Streaming）**:
```
測試對話時使用流式 API:
┌────────────────────────────────────────┐
│ Agent: 您好！我很樂意...              │  ← 逐字顯示
│        ▋                               │    (打字機效果)
└────────────────────────────────────────┘
```

---

## 9. 錯誤處理

### 9.1 驗證錯誤

**字段級別錯誤**:
```
Agent 名稱 *
┌────────────────────────────────────────┐
│ A                                      │
└────────────────────────────────────────┘
⚠️ 名稱至少需要 3 個字符                    ← 即時顯示

⚠️ 名稱已被使用，請嘗試其他名稱            ← 異步驗證
```

**表單級別錯誤**:
```
點擊 [下一步] 時，若有錯誤:

┌────────────────────────────────────────┐
│ ⚠️ 請修正以下錯誤:                      │
│ • Agent 名稱不能為空                   │
│ • 描述超過最大長度限制                 │
└────────────────────────────────────────┘

自動滾動到第一個錯誤字段
```

### 9.2 API 錯誤

**創建失敗**:
```
╔═══════════════════════════════════════════╗
║ ❌ 創建失敗                              ║
║                                           ║
║ 錯誤: 無法連接到 LLM 服務                ║
║                                           ║
║ 可能原因:                                 ║
║ • API Key 無效或過期                     ║
║ • 網絡連接問題                           ║
║ • 服務暫時不可用                         ║
║                                           ║
║ [ 重試 ]  [ 檢查配置 ]  [ 保存草稿 ]     ║
╚═══════════════════════════════════════════╝
```

**網絡超時**:
```
┌───────────────────────────────────────┐
│ ⏱️ 請求超時                            │
│                                       │
│ 測試 Agent 時服務響應緩慢，您可以:     │
│ • 等待並重試                          │
│ • 跳過測試，直接創建                  │
│ • 保存草稿，稍後繼續                  │
│                                       │
│ [ 重試 ]  [ 跳過測試 ]  [ 保存草稿 ]  │
└───────────────────────────────────────┘
```

### 9.3 數據丟失保護

**離開確認**:
```
用戶點擊 [× 取消] 或瀏覽器返回:

┌───────────────────────────────────────┐
│ ⚠️ 確認離開？                          │
│                                       │
│ 您有未保存的更改，離開將丟失所有進度。 │
│                                       │
│ [ 保存草稿 ]  [ 放棄更改 ]  [ 取消 ]  │
└───────────────────────────────────────┘
```

**自動恢復**:
```
頁面意外關閉或刷新後重新打開:

┌───────────────────────────────────────┐
│ 💾 發現未完成的 Agent 創建             │
│                                       │
│ 上次編輯: 5 分鐘前                    │
│ 進度: 步驟 2/3 (配置參數)             │
│                                       │
│ [ 繼續編輯 ]  [ 重新開始 ]            │
└───────────────────────────────────────┘
```

---

## 10. 技術實現建議

### 10.1 數據結構

```typescript
interface AgentCreateRequest {
  // 基本信息
  name: string;
  description?: string;
  icon?: string;
  tags?: string[];
  visibility: 'private' | 'team' | 'public';

  // LLM 配置
  llm: {
    provider: 'openai' | 'azure' | 'anthropic';
    model: string;
    temperature: number;
    maxTokens: number;
    topP?: number;
    frequencyPenalty?: number;
    presencePenalty?: number;
  };

  // Persona 設計
  persona?: {
    systemPrompt: string;
    conversationStyle: string;
    fewShotExamples?: Array<{
      user: string;
      assistant: string;
    }>;
    constraints?: string[];
  };

  // 能力配置
  capabilities?: {
    knowledgeBase?: string[];  // 知識庫 IDs
    functionCalling?: string[]; // 函數 IDs
    codeExecution?: boolean;
    plugins?: string[];
  };

  // 高級設置
  advanced?: {
    security?: {
      allowedDomains?: string[];
      contentFiltering?: boolean;
    };
    rateLimit?: {
      requestsPerMinute: number;
      tokensPerDay: number;
    };
    logging?: {
      level: 'debug' | 'info' | 'warn' | 'error';
      retention: number; // 天數
    };
  };
}

interface AgentTemplate {
  id: string;
  name: string;
  description: string;
  icon: string;
  category: string;
  config: Partial<AgentCreateRequest>;
  popularity: number;
}
```

### 10.2 狀態管理

```typescript
interface CreateAgentState {
  // 當前步驟
  currentStep: 'select-path' | 'select-template' | 'configure' | 'test' | 'custom-basic' | 'custom-llm' | 'custom-persona' | 'custom-capabilities' | 'custom-advanced';

  // 創建路徑
  path: 'quick' | 'custom' | 'import';

  // 表單數據
  formData: Partial<AgentCreateRequest>;

  // 選中的模板
  selectedTemplate?: AgentTemplate;

  // 草稿狀態
  draftId?: string;
  lastSaved?: Date;
  isDirty: boolean;

  // 驗證狀態
  validation: {
    [field: string]: {
      isValid: boolean;
      error?: string;
    };
  };

  // 測試狀態
  testResult?: {
    input: string;
    output: string;
    responseTime: number;
    success: boolean;
  };
}

// Zustand store
export const useCreateAgentStore = create<CreateAgentState>((set) => ({
  currentStep: 'select-path',
  path: 'quick',
  formData: {},
  isDirty: false,
  validation: {},

  // Actions
  setStep: (step) => set({ currentStep: step }),
  setPath: (path) => set({ path }),
  updateFormData: (data) => set((state) => ({
    formData: { ...state.formData, ...data },
    isDirty: true,
  })),
  selectTemplate: (template) => set({
    selectedTemplate: template,
    formData: template.config,
  }),
  saveDraft: async () => {
    const { formData } = get();
    const draftId = await api.saveDraft(formData);
    set({ draftId, lastSaved: new Date(), isDirty: false });
  },
}));
```

### 10.3 多步驟表單管理

```typescript
// React Hook Form 與 Zustand 整合
function AgentCreateForm() {
  const { currentStep, formData, updateFormData } = useCreateAgentStore();
  const methods = useForm({
    defaultValues: formData,
    mode: 'onChange',
  });

  // 監聽表單變化，同步到 store
  useEffect(() => {
    const subscription = methods.watch((data) => {
      updateFormData(data);
    });
    return () => subscription.unsubscribe();
  }, [methods, updateFormData]);

  // 步驟驗證
  const validateStep = async () => {
    switch (currentStep) {
      case 'configure':
        return methods.trigger(['name', 'description', 'llm.model']);
      case 'custom-basic':
        return methods.trigger(['name', 'visibility']);
      // ...其他步驟
    }
  };

  // 下一步
  const handleNext = async () => {
    const isValid = await validateStep();
    if (isValid) {
      goToNextStep();
    }
  };

  return (
    <FormProvider {...methods}>
      {renderCurrentStep()}
    </FormProvider>
  );
}
```

### 10.4 自動保存實現

```typescript
function useAutoSave(formData: any, interval: number = 30000) {
  const { saveDraft } = useCreateAgentStore();
  const [lastSaved, setLastSaved] = useState<Date | null>(null);
  const [isSaving, setIsSaving] = useState(false);

  useEffect(() => {
    const timer = setInterval(async () => {
      if (formData && Object.keys(formData).length > 0) {
        setIsSaving(true);
        await saveDraft();
        setLastSaved(new Date());
        setIsSaving(false);
      }
    }, interval);

    return () => clearInterval(timer);
  }, [formData, interval, saveDraft]);

  return { lastSaved, isSaving };
}
```

---

## 11. 設計決策記錄（ADR）

### 決策 1: 雙路徑設計（快速 vs 自定義）

**選擇**: 提供快速創建和自定義創建兩種路徑

**理由**:
- **不同用戶需求**: Sarah 需要簡單快速，Alex 需要完整控制
- **降低門檻**: 快速創建讓新用戶 2 分鐘內體驗成功
- **保持靈活**: 自定義創建滿足高級用戶的所有需求

**權衡**:
- 增加開發成本（兩套 UI 流程）
- 但顯著提升用戶體驗和完成率

### 決策 2: 3 步快速創建流程

**選擇**: 快速創建只需 3 步（選擇模板 → 配置參數 → 測試確認）

**理由**:
- **認知負荷**: 3 步是用戶可接受的最大步驟數
- **漸進披露**: 每步只顯示必要信息
- **可選測試**: 測試步驟可跳過（但推薦）

**權衡**:
- 配置選項有限
- 使用模板預設的最佳實踐

### 決策 3: 實時預覽功能

**選擇**: 在配置過程中提供實時預覽

**理由**:
- **即時反饋**: 用戶可立即看到配置效果
- **減少錯誤**: 發現問題更早，修正成本更低
- **增強信心**: 用戶更有信心完成創建

**權衡**:
- 需要本地模擬或 API 調用
- 使用本地模擬 + 按需真實測試平衡性能和準確性

### 決策 4: 自動保存草稿

**選擇**: 每 30 秒自動保存 + 字段失去焦點時保存

**理由**:
- **防止數據丟失**: 網絡問題或意外關閉時保護用戶數據
- **無縫體驗**: 用戶可隨時離開和恢復
- **減少壓力**: 用戶不需擔心忘記保存

**權衡**:
- API 請求頻率增加
- 使用節流（throttle）和防抖（debounce）優化

---

## 12. 後續迭代

### 12.1 短期優化（1-2 個月）

- **AI 輔助填寫**: 根據 Agent 名稱自動生成描述和建議配置
- **模板市場**: 社區共享的 Agent 模板
- **批量創建**: 從 CSV/Excel 批量導入創建
- **克隆 Agent**: 基於現有 Agent 創建副本

### 12.2 中期增強（3-6 個月）

- **可視化 Prompt 編輯器**: 圖形化編輯 System Prompt
- **能力市場**: 第三方插件和函數市場
- **A/B 測試**: 創建多個版本並對比效果
- **智能推薦**: 根據使用場景推薦最佳配置

### 12.3 長期願景（6-12 個月）

- **低代碼編輯器**: 拖拽式 Agent 工作流設計
- **自動優化**: AI 自動優化 Agent 配置
- **協作創建**: 多人協作創建和配置 Agent
- **版本控制**: Git-like 的配置版本管理

---

## 13. 參考資料

### 設計參考

- [Stripe Onboarding](https://stripe.com/) - 漸進式引導流程
- [Notion Templates](https://www.notion.so/templates) - 模板選擇 UI
- [GitHub New Repository](https://github.com/new) - 表單設計
- [Figma File Creation](https://www.figma.com/) - 雙路徑選擇

### 多步驟表單最佳實踐

- [NNGroup: Wizard Design Pattern](https://www.nngroup.com/articles/wizards/)
- [Form Design Patterns by Adam Silver](https://formdesignpatterns.com/)
- [Material Design: Stepper](https://m3.material.io/components/steppers)

---

**狀態**: ✅ Wireframe 已完成
**下一步**: 創建 Agent 詳情頁 Wireframe（04-agent-detail.md）
**審核**: 待 UI/UX 團隊審核
**更新日期**: 2025-10-29
