# Site Map - Semantic Kernel Agentic Framework

## 概覽

本文件定義了 Semantic Kernel Agentic Framework 的完整網站地圖，基於用戶研究（3 個 Personas、5 個 User Journey Maps）和系統架構（10 個功能模組、43 個 User Stories）。

**設計原則**:
- **用戶導向**: 按用戶任務流程組織，而非技術模組
- **層次清晰**: 最多 3 層深度，避免過深的導航
- **快速訪問**: 核心功能 ≤2 次點擊可達
- **角色適配**: 不同角色看到對應的功能區域

---

## 網站架構總覽

```
Semantic Kernel Agentic Framework
│
├─ 🏠 首頁 (Dashboard)
│  ├─ 快速開始
│  ├─ 最近的 Agents
│  └─ 系統狀態概覽
│
├─ 🤖 Agents 管理
│  ├─ Agent 列表
│  ├─ 創建 Agent
│  │  ├─ 快速創建（模板）
│  │  └─ 自定義創建
│  ├─ Agent 詳情
│  │  ├─ 基本配置
│  │  ├─ Persona 配置
│  │  ├─ 能力配置
│  │  ├─ 測試與調試
│  │  └─ 部署與發布
│  └─ Agent 模板庫
│
├─ 💬 對話管理
│  ├─ 對話列表
│  ├─ 新建對話
│  ├─ 對話詳情
│  │  ├─ 多模態聊天界面
│  │  ├─ 對話歷史
│  │  ├─ 上下文管理
│  │  └─ 會話設置
│  └─ 對話模板
│
├─ 🧠 知識管理
│  ├─ 知識庫列表
│  ├─ 創建知識庫
│  ├─ 知識庫詳情
│  │  ├─ 文檔管理
│  │  ├─ 上傳與導入
│  │  ├─ 檢索配置
│  │  ├─ Embedding 設置
│  │  └─ 測試檢索
│  └─ 知識庫模板
│
├─ 🔬 Code Interpreter
│  ├─ 代碼執行環境
│  ├─ 數據分析工作區
│  │  ├─ 上傳數據
│  │  ├─ 執行分析
│  │  ├─ 可視化結果
│  │  └─ 導出報告
│  ├─ 代碼歷史
│  └─ 模板和範例
│
├─ 📊 Text-to-SQL
│  ├─ 數據源管理
│  ├─ SQL 查詢工作區
│  │  ├─ 自然語言輸入
│  │  ├─ SQL 預覽與編輯
│  │  ├─ 執行查詢
│  │  └─ 結果展示
│  ├─ 查詢歷史
│  └─ 常用查詢模板
│
├─ 🔄 Multi-Agent Workflow
│  ├─ 工作流列表
│  ├─ 創建工作流
│  │  ├─ 可視化編輯器
│  │  ├─ Agent 選擇
│  │  ├─ 流程設計
│  │  └─ 數據傳遞配置
│  ├─ 工作流詳情
│  │  ├─ 流程圖
│  │  ├─ 執行監控
│  │  ├─ 日誌與調試
│  │  └─ 性能分析
│  └─ 工作流模板庫
│
├─ 👤 Persona Designer
│  ├─ Persona 列表
│  ├─ 創建 Persona
│  │  ├─ 引導式 Builder
│  │  ├─ 基本信息設置
│  │  ├─ 對話風格配置
│  │  ├─ Few-Shot 範例
│  │  └─ 預覽與測試
│  ├─ Persona 詳情
│  │  ├─ 配置管理
│  │  ├─ 一致性評估
│  │  └─ Prompt 生成
│  └─ Persona 模板庫
│
├─ 📈 監控與分析
│  ├─ 系統概覽
│  │  ├─ 資源使用
│  │  ├─ API 調用統計
│  │  └─ 成本追蹤
│  ├─ Agent 性能
│  │  ├─ 響應時間
│  │  ├─ 成功率
│  │  └─ 用戶滿意度
│  ├─ 日誌查詢
│  └─ 告警設置
│
├─ ⚙️ 系統設置
│  ├─ 基本設置
│  │  ├─ LLM Provider 配置
│  │  ├─ API Keys 管理
│  │  └─ 默認參數
│  ├─ 安全與權限
│  │  ├─ 用戶管理
│  │  ├─ 角色與權限
│  │  └─ 審計日誌
│  ├─ 集成管理
│  │  ├─ 外部系統集成
│  │  ├─ Webhook 配置
│  │  └─ API 管理
│  └─ 系統維護
│     ├─ 備份與還原
│     ├─ 數據清理
│     └─ 系統診斷
│
└─ 📚 幫助與資源
   ├─ 快速開始指南
   ├─ 視頻教程
   ├─ 最佳實踐
   ├─ API 文檔
   ├─ 常見問題 (FAQ)
   └─ 社區與支持
```

---

## 一級導航結構

### 1. 🏠 首頁 (Dashboard)

**目標用戶**: 所有用戶（Alex, Sarah, David）
**主要功能**: 快速訪問、狀態概覽、最近活動
**設計優先級**: ⭐ P0

**頁面結構**:
```
Dashboard
├─ 歡迎橫幅
│  ├─ 快速開始教程入口（新用戶）
│  └─ 快捷操作按鈕（老用戶）
│     ├─ 創建 Agent
│     ├─ 新建對話
│     └─ 數據分析
│
├─ 最近的 Agents (Recent Agents)
│  ├─ Agent 卡片（最近使用的 5 個）
│  │  ├─ Agent 名稱
│  │  ├─ 狀態（運行中/已停止）
│  │  └─ 快捷操作（啟動/停止/配置）
│  └─ 查看全部 → Agent 列表
│
├─ 最近的對話 (Recent Conversations)
│  ├─ 對話列表（最近 5 個）
│  │  ├─ 對話標題
│  │  ├─ 時間
│  │  └─ 繼續對話按鈕
│  └─ 查看全部 → 對話管理
│
├─ 系統狀態概覽
│  ├─ API 調用量（今日/本月）
│  ├─ 活躍 Agents 數量
│  ├─ 成本追蹤（今日/本月）
│  └─ 系統健康狀態
│
└─ 快捷入口
   ├─ 數據分析（Code Interpreter）
   ├─ SQL 查詢（Text-to-SQL）
   └─ 工作流執行
```

**關鍵設計決策**:
- **快速開始**: 新用戶看到教程入口，老用戶看到快捷操作
- **最近活動**: 顯示最近使用的 Agents 和對話，方便快速恢復
- **系統狀態**: David (Enterprise Admin) 特別需要的成本和健康監控
- **快捷入口**: Sarah (Business Analyst) 最常用的數據分析和 SQL 查詢

---

### 2. 🤖 Agents 管理

**目標用戶**: 主要 Alex (Developer)，次要 Sarah (Analyst)
**主要功能**: 創建、配置、測試、部署 AI Agents
**設計優先級**: ⭐ P0

**頁面結構**:

#### 2.1 Agent 列表
```
Agent 列表
├─ 篩選與搜索
│  ├─ 搜索框（名稱、描述）
│  ├─ 狀態篩選（全部/運行中/已停止）
│  ├─ 標籤篩選
│  └─ 排序（最近使用/創建時間/名稱）
│
├─ Agent 卡片列表
│  ├─ Agent 名稱
│  ├─ 描述
│  ├─ 狀態指示器
│  ├─ 關鍵指標（調用次數、平均響應時間）
│  └─ 快捷操作
│     ├─ 啟動/停止
│     ├─ 測試
│     ├─ 配置
│     └─ 刪除
│
└─ 創建 Agent 按鈕（主要 CTA）
```

#### 2.2 創建 Agent
```
創建 Agent
├─ 創建方式選擇
│  ├─ 快速創建（模板）
│  │  ├─ 客服助手
│  │  ├─ 數據分析師
│  │  ├─ 代碼助手
│  │  └─ 業務顧問
│  └─ 自定義創建
│
├─ 引導式創建流程（Wizard）
│  ├─ 步驟 1: 基本信息
│  │  ├─ Agent 名稱
│  │  ├─ 描述
│  │  └─ 標籤
│  │
│  ├─ 步驟 2: LLM 配置
│  │  ├─ Provider 選擇（Azure OpenAI / OpenAI / Claude）
│  │  ├─ 模型選擇（GPT-4 / GPT-3.5）
│  │  │  └─ 💡 推薦說明：性能 vs 成本
│  │  ├─ Temperature（創意度）
│  │  └─ Max Tokens
│  │
│  ├─ 步驟 3: Persona 配置（可選）
│  │  ├─ 選擇現有 Persona
│  │  ├─ 創建新 Persona → Persona Designer
│  │  └─ 跳過（使用默認）
│  │
│  ├─ 步驟 4: 能力配置
│  │  ├─ ☐ Knowledge Base（知識庫）
│  │  ├─ ☐ Code Interpreter（代碼執行）
│  │  ├─ ☐ Text-to-SQL（SQL 查詢）
│  │  ├─ ☐ Web Search（網頁搜索）
│  │  └─ ☐ Custom Functions（自定義函數）
│  │
│  └─ 步驟 5: 預覽與創建
│     ├─ 配置摘要
│     ├─ 測試對話（快速驗證）
│     └─ 創建按鈕
│
└─ 進度指示器（1/5 → 2/5 → 3/5 → 4/5 → 5/5）
```

**關鍵設計決策**:
- **模板優先**: 解決 Journey 1 痛點「不知道從哪裡開始」
- **推薦說明**: 解決 Journey 1 痛點「不知道如何選擇模型」
- **引導流程**: 5 步引導式創建，避免一次性呈現所有配置選項
- **快速測試**: 創建前就能測試對話，減少返工

#### 2.3 Agent 詳情
```
Agent 詳情
├─ 頂部操作欄
│  ├─ 啟動/停止按鈕
│  ├─ 測試對話按鈕
│  ├─ 複製 Agent
│  ├─ 導出配置
│  └─ 刪除 Agent
│
├─ 標籤頁導航
│  ├─ 📝 基本配置
│  ├─ 👤 Persona 配置
│  ├─ 🔧 能力配置
│  ├─ 🧪 測試與調試
│  └─ 🚀 部署與發布
│
├─ Tab 1: 基本配置
│  ├─ Agent 信息
│  │  ├─ 名稱
│  │  ├─ 描述
│  │  └─ 標籤
│  ├─ LLM 配置
│  │  ├─ Provider
│  │  ├─ 模型
│  │  ├─ Temperature
│  │  └─ Max Tokens
│  └─ 保存更改按鈕
│
├─ Tab 2: Persona 配置
│  ├─ 當前 Persona 預覽
│  ├─ 編輯 Persona → Persona Designer
│  ├─ 更換 Persona（選擇其他）
│  └─ 一致性評估
│     ├─ 一致性分數（85%）
│     └─ 改進建議
│
├─ Tab 3: 能力配置
│  ├─ Knowledge Base
│  │  ├─ 啟用/禁用
│  │  ├─ 選擇知識庫（多選）
│  │  └─ 檢索策略配置
│  ├─ Code Interpreter
│  │  ├─ 啟用/禁用
│  │  ├─ 運行時環境（Python / R）
│  │  └─ 安全沙箱設置
│  ├─ Text-to-SQL
│  │  ├─ 啟用/禁用
│  │  ├─ 數據源配置
│  │  └─ 權限設置
│  └─ 其他能力...
│
├─ Tab 4: 測試與調試
│  ├─ 測試對話界面
│  │  ├─ 聊天窗口
│  │  ├─ 測試案例列表
│  │  └─ 快速測試輸入
│  ├─ 調試信息
│  │  ├─ Prompt 預覽
│  │  ├─ Token 使用量
│  │  ├─ 執行日誌
│  │  └─ 錯誤信息
│  └─ 性能指標
│     ├─ 平均響應時間
│     ├─ 成功率
│     └─ 成本估算
│
└─ Tab 5: 部署與發布
   ├─ API 訪問
   │  ├─ API Endpoint
   │  ├─ API Key 生成
   │  └─ 示例代碼（SDK）
   ├─ 嵌入代碼
   │  ├─ Web Widget
   │  └─ iframe 嵌入
   └─ 版本管理
      ├─ 當前版本
      ├─ 版本歷史
      └─ 回滾操作
```

**關鍵設計決策**:
- **標籤頁組織**: 避免單頁過長，按任務流程分組
- **測試與調試**: 單獨標籤頁，解決 Journey 1 痛點「不知道如何優化」
- **部署與發布**: 提供多種集成方式（API、Widget、iframe）

---

### 3. 💬 對話管理

**目標用戶**: 所有用戶（Alex, Sarah, David）
**主要功能**: 多模態聊天、對話歷史、上下文管理
**設計優先級**: ⭐ P0

**頁面結構**:

#### 3.1 對話列表
```
對話列表
├─ 篩選與搜索
│  ├─ 搜索框（對話內容、標題）
│  ├─ Agent 篩選
│  ├─ 時間範圍
│  └─ 標籤篩選
│
├─ 對話卡片列表
│  ├─ 對話標題（自動生成或自定義）
│  ├─ Agent 名稱
│  ├─ 最後更新時間
│  ├─ 消息數量
│  └─ 快捷操作
│     ├─ 繼續對話
│     ├─ 查看詳情
│     ├─ 導出
│     └─ 刪除
│
└─ 新建對話按鈕（主要 CTA）
```

#### 3.2 對話詳情（多模態聊天界面）
```
對話詳情
├─ 頂部工具欄
│  ├─ Agent 選擇器（切換 Agent）
│  ├─ 對話標題編輯
│  ├─ 設置按鈕
│  └─ 導出按鈕
│     ├─ 導出為 Markdown
│     ├─ 導出為 PDF
│     └─ 導出為 JSON
│
├─ 聊天窗口
│  ├─ 消息列表（滾動）
│  │  ├─ 用戶消息
│  │  │  ├─ 文字
│  │  │  ├─ 圖片（上傳）
│  │  │  └─ 文件（上傳）
│  │  │
│  │  └─ Agent 回覆
│  │     ├─ 文字
│  │     ├─ 代碼塊（語法高亮）
│  │     ├─ 圖表（Code Interpreter 生成）
│  │     ├─ 表格（SQL 查詢結果）
│  │     └─ 操作按鈕
│  │        ├─ 複製
│  │        ├─ 重新生成
│  │        └─ 反饋（👍/👎）
│  │
│  ├─ 輸入區域
│  │  ├─ 多行文本輸入框
│  │  ├─ 附件按鈕
│  │  │  ├─ 上傳圖片
│  │  │  ├─ 上傳文件
│  │  │  └─ 從知識庫選擇
│  │  ├─ 快捷命令（/）
│  │  │  ├─ /analyze（數據分析）
│  │  │  ├─ /query（SQL 查詢）
│  │  │  └─ /search（網頁搜索）
│  │  └─ 發送按鈕
│  │
│  └─ 狀態指示器
│     ├─ 正在輸入...
│     ├─ 正在執行代碼...
│     └─ 正在查詢數據庫...
│
└─ 右側邊欄（可折疊）
   ├─ 對話信息
   │  ├─ 創建時間
   │  ├─ 消息數量
   │  ├─ Token 使用量
   │  └─ 估算成本
   │
   ├─ 上下文管理
   │  ├─ 當前上下文 Token 數
   │  ├─ 上下文消息列表（可選擇）
   │  └─ 清除上下文按鈕
   │
   └─ 相關資源
      ├─ 使用的知識庫
      ├─ 執行的代碼
      └─ 查詢的 SQL
```

**關鍵設計決策**:
- **多模態支持**: 文字、圖片、文件、代碼、圖表、表格
- **快捷命令**: `/analyze`, `/query` 等，提高操作效率
- **狀態指示**: 解決 Journey 1 痛點「等待時間缺乏反饋」
- **上下文管理**: 可視化 Token 使用，避免超出限制

---

### 4. 🧠 知識管理

**目標用戶**: 主要 Sarah (Analyst)、Alex (Developer)
**主要功能**: 上傳文檔、檢索配置、測試檢索
**設計優先級**: ⭐ P0

**頁面結構**:

#### 4.1 知識庫列表
```
知識庫列表
├─ 篩選與搜索
│  ├─ 搜索框（名稱、描述）
│  ├─ 標籤篩選
│  └─ 排序（最近更新/名稱/文檔數量）
│
├─ 知識庫卡片列表
│  ├─ 知識庫名稱
│  ├─ 描述
│  ├─ 文檔數量
│  ├─ 最後更新時間
│  └─ 快捷操作
│     ├─ 上傳文檔
│     ├─ 測試檢索
│     ├─ 配置
│     └─ 刪除
│
└─ 創建知識庫按鈕（主要 CTA）
```

#### 4.2 創建知識庫
```
創建知識庫
├─ 引導式創建流程
│  ├─ 步驟 1: 基本信息
│  │  ├─ 知識庫名稱
│  │  ├─ 描述
│  │  └─ 標籤
│  │
│  ├─ 步驟 2: 上傳文檔
│  │  ├─ 拖放上傳區域
│  │  ├─ 支持格式提示
│  │  │  └─ PDF, Word, Excel, PPT, TXT, Markdown, HTML
│  │  ├─ 批量上傳
│  │  └─ URL 導入
│  │
│  ├─ 步驟 3: Embedding 配置
│  │  ├─ Embedding 模型選擇
│  │  │  ├─ text-embedding-ada-002（推薦）
│  │  │  └─ 其他模型
│  │  ├─ 分塊策略
│  │  │  ├─ 分塊大小（推薦: 512 tokens）
│  │  │  └─ 重疊大小（推薦: 50 tokens）
│  │  └─ 💡 推薦說明
│  │
│  ├─ 步驟 4: 檢索配置
│  │  ├─ 檢索策略選擇
│  │  │  ├─ 🌟 混合檢索 + Reranking（推薦）
│  │  │  ├─ 向量檢索
│  │  │  └─ 關鍵詞檢索
│  │  ├─ Top K 設置（推薦: 5-10）
│  │  └─ 💡 推薦說明
│  │
│  └─ 步驟 5: 預覽與創建
│     ├─ 配置摘要
│     ├─ 測試檢索（快速驗證）
│     └─ 創建按鈕
│
└─ 進度指示器 + 處理狀態
   ├─ 上傳中...（2/10 文件）
   ├─ 解析中...
   └─ Embedding 中...（50%）
```

**關鍵設計決策**:
- **推薦策略**: 解決 Journey 3 痛點「不知道如何選擇檢索策略」
- **進度指示**: 解決 Journey 3 痛點「等待時間缺乏反饋」
- **快速測試**: 創建前就能測試檢索效果

#### 4.3 知識庫詳情
```
知識庫詳情
├─ 頂部操作欄
│  ├─ 上傳文檔按鈕
│  ├─ 測試檢索按鈕
│  ├─ 導出配置
│  └─ 刪除知識庫
│
├─ 標籤頁導航
│  ├─ 📄 文檔管理
│  ├─ 🔍 檢索配置
│  ├─ 🧪 測試檢索
│  └─ 📊 使用統計
│
├─ Tab 1: 文檔管理
│  ├─ 文檔列表
│  │  ├─ 文件名
│  │  ├─ 類型
│  │  ├─ 大小
│  │  ├─ 上傳時間
│  │  ├─ 處理狀態
│  │  │  ├─ ✅ 已處理
│  │  │  ├─ 🔄 處理中
│  │  │  └─ ❌ 失敗
│  │  └─ 操作
│  │     ├─ 預覽
│  │     ├─ 下載
│  │     ├─ 重新處理
│  │     └─ 刪除
│  └─ 批量操作
│     ├─ 批量刪除
│     └─ 批量重新處理
│
├─ Tab 2: 檢索配置
│  ├─ Embedding 配置
│  ├─ 檢索策略
│  └─ 保存更改按鈕
│
├─ Tab 3: 測試檢索
│  ├─ 測試輸入
│  │  ├─ 自然語言問題
│  │  └─ 搜索按鈕
│  ├─ 檢索結果
│  │  ├─ 相關度評分
│  │  ├─ 文檔片段
│  │  ├─ 來源文檔
│  │  └─ 元數據
│  └─ 調試信息
│     ├─ 查詢向量
│     ├─ 相似度分數
│     └─ Reranking 分數
│
└─ Tab 4: 使用統計
   ├─ 檢索次數（日/週/月）
   ├─ 平均相關度
   ├─ 最常檢索的問題
   └─ 文檔覆蓋率
```

**關鍵設計決策**:
- **處理狀態**: 清晰顯示文檔處理進度和錯誤
- **測試檢索**: 單獨標籤頁，方便驗證檢索效果
- **調試信息**: 幫助理解檢索機制，優化配置

---

### 5. 🔬 Code Interpreter

**目標用戶**: 主要 Sarah (Analyst)
**主要功能**: 數據分析、代碼執行、可視化、導出報告
**設計優先級**: ⭐ P0

**頁面結構**:

#### 5.1 數據分析工作區
```
Code Interpreter
├─ 左側邊欄（文件管理）
│  ├─ 上傳數據
│  │  ├─ 拖放上傳
│  │  ├─ 支持格式（CSV, Excel, JSON, Parquet）
│  │  └─ 數據預覽
│  ├─ 已上傳文件列表
│  │  ├─ 文件名
│  │  ├─ 大小
│  │  └─ 操作（預覽/刪除）
│  └─ 模板和範例
│     ├─ 數據清洗
│     ├─ 統計分析
│     ├─ 數據可視化
│     └─ 機器學習
│
├─ 中央工作區
│  ├─ 自然語言輸入
│  │  ├─ "請幫我分析銷售數據的趨勢"
│  │  └─ 分析按鈕
│  │
│  ├─ 代碼預覽區
│  │  ├─ 生成的 Python/R 代碼
│  │  ├─ 語法高亮
│  │  ├─ 編輯按鈕（可選）
│  │  └─ 執行按鈕
│  │
│  ├─ 執行狀態
│  │  ├─ 正在執行...
│  │  ├─ 進度條
│  │  └─ 取消按鈕
│  │
│  └─ 結果展示區
│     ├─ 文本輸出
│     ├─ 表格（交互式）
│     ├─ 圖表（可縮放、導出）
│     │  ├─ 折線圖
│     │  ├─ 柱狀圖
│     │  ├─ 散點圖
│     │  └─ 熱力圖
│     └─ 錯誤信息（如有）
│
├─ 右側邊欄（歷史與導出）
│  ├─ 執行歷史
│  │  ├─ 歷史記錄列表
│  │  │  ├─ 時間
│  │  │  ├─ 操作描述
│  │  │  └─ 重新執行按鈕
│  │  └─ 清除歷史
│  │
│  └─ 導出選項
│     ├─ 導出報告
│     │  ├─ PDF
│     │  ├─ PowerPoint
│     │  └─ Excel
│     ├─ 導出代碼
│     │  ├─ Jupyter Notebook
│     │  └─ Python 腳本
│     └─ 導出圖表
│        ├─ PNG
│        └─ SVG
│
└─ 底部工具欄
   ├─ 保存為模板
   ├─ 分享（生成鏈接）
   └─ 設置（運行時環境、超時時間）
```

**關鍵設計決策**:
- **自然語言驅動**: Sarah 不需要寫代碼，直接描述需求
- **代碼透明**: 顯示生成的代碼，建立信任（解決 Journey 4 痛點）
- **多格式導出**: Excel、PowerPoint、PDF（解決 Journey 4 機會點）
- **保存為模板**: 自動化重複分析（解決 Journey 4 機會點）

---

### 6. 📊 Text-to-SQL

**目標用戶**: 主要 Sarah (Analyst)
**主要功能**: 自然語言查詢、SQL 生成、結果展示
**設計優先級**: ⭐ P0

**頁面結構**:

#### 6.1 SQL 查詢工作區
```
Text-to-SQL
├─ 左側邊欄（數據源管理）
│  ├─ 數據源列表
│  │  ├─ 數據源名稱
│  │  ├─ 類型（PostgreSQL / MySQL / SQL Server）
│  │  ├─ 連接狀態
│  │  └─ 選擇數據源（單選）
│  ├─ Schema 瀏覽
│  │  ├─ 數據庫列表
│  │  ├─ 表列表
│  │  └─ 列詳情
│  │     ├─ 列名
│  │     ├─ 類型
│  │     └─ 描述
│  └─ 添加數據源按鈕
│
├─ 中央工作區
│  ├─ 自然語言輸入
│  │  ├─ "過去 30 天銷售額最高的 10 個產品"
│  │  ├─ 查詢按鈕
│  │  └─ 💡 範例查詢鏈接
│  │
│  ├─ SQL 預覽與編輯區
│  │  ├─ 生成的 SQL（語法高亮）
│  │  ├─ 編輯按鈕（切換編輯模式）
│  │  ├─ 格式化按鈕
│  │  └─ 執行按鈕
│  │
│  ├─ 執行狀態
│  │  ├─ 正在執行...
│  │  ├─ 執行時間
│  │  └─ 取消按鈕
│  │
│  └─ 結果展示區
│     ├─ 結果表格
│     │  ├─ 交互式表格（排序、篩選）
│     │  ├─ 分頁控制
│     │  └─ 行數統計
│     ├─ 可視化選項
│     │  ├─ 自動圖表推薦
│     │  │  └─ "這個數據適合柱狀圖"
│     │  └─ 圖表類型選擇
│     └─ 錯誤信息（如有）
│        ├─ SQL 錯誤詳情
│        └─ 修復建議
│
├─ 右側邊欄
│  ├─ 查詢歷史
│  │  ├─ 歷史查詢列表
│  │  │  ├─ 自然語言問題
│  │  │  ├─ 時間
│  │  │  └─ 重新執行按鈕
│  │  └─ 清除歷史
│  │
│  ├─ 常用查詢
│  │  ├─ 保存當前查詢
│  │  └─ 常用查詢列表
│  │
│  └─ 導出選項
│     ├─ CSV
│     ├─ Excel
│     ├─ JSON
│     └─ SQL 腳本
│
└─ 底部工具欄
   ├─ 數據預覽（查看表樣本數據）
   ├─ Schema 文檔（表和列的描述）
   └─ 安全設置（查詢超時、行數限制）
```

**關鍵設計決策**:
- **自然語言優先**: Sarah 不需要懂 SQL
- **SQL 可編輯**: 允許調整生成的 SQL（提高靈活性）
- **錯誤修復建議**: 自動提供修復建議（降低門檻）
- **Schema 瀏覽**: 幫助理解數據結構（提高準確率）
- **常用查詢**: 保存和復用頻繁查詢（提高效率）

---

### 7. 🔄 Multi-Agent Workflow

**目標用戶**: 主要 Alex (Developer)
**主要功能**: 可視化工作流設計、執行監控、調試
**設計優先級**: ⭐ P0

**頁面結構**:

#### 7.1 工作流列表
```
工作流列表
├─ 篩選與搜索
│  ├─ 搜索框
│  ├─ 狀態篩選（全部/運行中/已完成/失敗）
│  └─ 標籤篩選
│
├─ 工作流卡片列表
│  ├─ 工作流名稱
│  ├─ 描述
│  ├─ Agent 數量
│  ├─ 最後執行時間
│  ├─ 成功率
│  └─ 快捷操作
│     ├─ 立即執行
│     ├─ 編輯
│     ├─ 複製
│     └─ 刪除
│
└─ 創建工作流按鈕（主要 CTA）
```

#### 7.2 創建/編輯工作流
```
工作流編輯器
├─ 頂部工具欄
│  ├─ 工作流名稱編輯
│  ├─ 保存按鈕
│  ├─ 測試運行按鈕
│  ├─ 發布按鈕
│  └─ 返回列表
│
├─ 左側工具面板
│  ├─ Agent 列表（可拖拽）
│  │  ├─ 搜索 Agent
│  │  └─ Agent 卡片
│  │     ├─ Agent 名稱
│  │     ├─ 類型標籤
│  │     └─ 拖拽圖標
│  │
│  ├─ 控制節點
│  │  ├─ 開始節點
│  │  ├─ 結束節點
│  │  ├─ 條件分支
│  │  ├─ 並行執行
│  │  └─ 循環節點
│  │
│  └─ 工作流模板
│     ├─ 客服流程
│     ├─ 數據分析流程
│     └─ 內容生成流程
│
├─ 中央畫布（可視化編輯器）
│  ├─ 節點和連線
│  │  ├─ Agent 節點
│  │  │  ├─ Agent 名稱
│  │  │  ├─ 狀態指示器
│  │  │  └─ 輸入/輸出端口
│  │  ├─ 控制節點
│  │  └─ 數據流連線
│  │     ├─ 數據傳遞（實線）
│  │     └─ 控制流（虛線）
│  │
│  ├─ 畫布操作
│  │  ├─ 縮放（+/-）
│  │  ├─ 適應屏幕
│  │  ├─ 網格對齊
│  │  └─ 自動佈局
│  │
│  └─ 上下文菜單（右鍵）
│     ├─ 配置節點
│     ├─ 刪除節點
│     └─ 復制節點
│
└─ 右側配置面板
   ├─ 節點配置（選中節點時）
   │  ├─ 基本設置
   │  │  ├─ 節點名稱
   │  │  └─ 描述
   │  ├─ Agent 配置
   │  │  ├─ 選擇 Agent
   │  │  └─ 參數覆蓋
   │  ├─ 輸入映射
   │  │  ├─ 從哪個節點接收數據
   │  │  └─ 數據字段映射
   │  ├─ 輸出配置
   │  │  ├─ 輸出字段定義
   │  │  └─ 傳遞給哪些節點
   │  └─ 錯誤處理
   │     ├─ 重試次數
   │     ├─ 超時時間
   │     └─ 失敗策略
   │
   └─ 工作流配置（未選中節點時）
      ├─ 基本信息
      ├─ 觸發條件
      │  ├─ 手動觸發
      │  ├─ 定時觸發
      │  └─ 事件觸發
      └─ 全局設置
         ├─ 最大執行時間
         └─ 並發限制
```

**關鍵設計決策**:
- **可視化編輯器**: 解決 Journey 5 核心痛點「數據傳遞機制不清楚」
- **拖拽設計**: 直觀的工作流構建體驗
- **數據流可視化**: 清晰顯示數據如何在 Agent 之間傳遞
- **模板庫**: 快速開始，減少學習曲線

#### 7.3 工作流執行監控
```
工作流執行監控
├─ 頂部狀態欄
│  ├─ 執行狀態（運行中/已完成/失敗）
│  ├─ 開始時間
│  ├─ 執行時間
│  ├─ 當前步驟
│  └─ 停止執行按鈕
│
├─ 中央畫布（執行視圖）
│  ├─ 工作流圖（只讀）
│  ├─ 節點狀態指示
│  │  ├─ ⏳ 等待中（灰色）
│  │  ├─ 🔄 執行中（藍色動畫）
│  │  ├─ ✅ 已完成（綠色）
│  │  └─ ❌ 失敗（紅色）
│  └─ 數據流動畫
│     └─ 數據流動的動態效果
│
└─ 底部面板（標籤頁）
   ├─ Tab 1: 執行日誌
   │  ├─ 日誌列表（時間順序）
   │  │  ├─ 時間戳
   │  │  ├─ 節點名稱
   │  │  ├─ 事件類型
   │  │  └─ 詳細信息
   │  └─ 篩選（全部/錯誤/警告）
   │
   ├─ Tab 2: 數據流
   │  ├─ 節點選擇
   │  └─ 輸入/輸出數據預覽
   │     ├─ JSON 視圖
   │     └─ 格式化顯示
   │
   ├─ Tab 3: 性能分析
   │  ├─ 執行時間圖表
   │  │  └─ 每個節點的執行時間
   │  ├─ Token 使用統計
   │  └─ 成本分析
   │
   └─ Tab 4: 錯誤詳情（如有）
      ├─ 錯誤節點
      ├─ 錯誤消息
      ├─ 堆棧跟蹤
      └─ 修復建議
```

**關鍵設計決策**:
- **實時監控**: 解決 Journey 5 機會點「提供詳細日誌」
- **可視化進度**: 解決痛點「等待時間缺乏反饋」
- **數據流預覽**: 幫助理解和調試數據傳遞
- **性能分析**: 識別瓶頸，優化工作流

---

### 8. 👤 Persona Designer

**目標用戶**: 主要 Alex (Developer)
**主要功能**: 創建和管理 Agent 的對話風格和個性
**設計優先級**: ⭐ P0

**頁面結構**:

#### 8.1 Persona 列表
```
Persona 列表
├─ 篩選與搜索
│  ├─ 搜索框
│  ├─ 風格篩選（專業/友好/幽默/正式）
│  └─ 標籤篩選
│
├─ Persona 卡片列表
│  ├─ Persona 名稱
│  ├─ 風格描述
│  ├─ 使用次數
│  ├─ 一致性評分
│  └─ 快捷操作
│     ├─ 預覽
│     ├─ 編輯
│     ├─ 複製
│     └─ 刪除
│
└─ 創建 Persona 按鈕（主要 CTA）
```

#### 8.2 創建/編輯 Persona
```
Persona Builder（引導式）
├─ 頂部進度條
│  └─ 步驟 1 → 2 → 3 → 4 → 5
│
├─ 步驟 1: 基本信息
│  ├─ Persona 名稱
│  ├─ 描述
│  ├─ 標籤
│  └─ 下一步按鈕
│
├─ 步驟 2: 對話風格
│  ├─ 風格預設（快速選擇）
│  │  ├─ 專業顧問
│  │  │  └─ 範例對話預覽
│  │  ├─ 友好助手
│  │  │  └─ 範例對話預覽
│  │  ├─ 技術專家
│  │  │  └─ 範例對話預覽
│  │  └─ 自定義
│  │
│  ├─ 自定義風格（滑桿）
│  │  ├─ 正式 ←→ 隨意（0-100）
│  │  ├─ 簡潔 ←→ 詳細（0-100）
│  │  ├─ 嚴肅 ←→ 幽默（0-100）
│  │  └─ 直接 ←→ 委婉（0-100）
│  │
│  └─ 實時預覽
│     └─ 根據設置生成的對話範例
│
├─ 步驟 3: 語言特徵
│  ├─ 用詞偏好
│  │  ├─ 專業術語使用程度
│  │  ├─ 常用詞彙列表
│  │  └─ 禁用詞彙列表
│  ├─ 句式風格
│  │  ├─ 問句使用頻率
│  │  ├─ 平均句子長度
│  │  └─ 標點符號使用
│  └─ Emoji 使用
│     ├─ 使用/不使用
│     └─ 使用場景
│
├─ 步驟 4: Few-Shot 範例
│  ├─ 範例對話列表
│  │  ├─ 範例 1
│  │  │  ├─ 用戶: "..."
│  │  │  └─ Agent: "..."
│  │  ├─ 範例 2
│  │  └─ 範例 3
│  │
│  ├─ 添加範例按鈕
│  ├─ 💡 推薦範例數量: 3-5 個
│  └─ 💡 建議: 覆蓋不同場景
│
├─ 步驟 5: 預覽與測試
│  ├─ 生成的 System Prompt 預覽
│  │  ├─ Prompt 內容
│  │  ├─ Token 數量
│  │  └─ 優化建議（如太長）
│  │
│  ├─ 實時測試
│  │  ├─ 測試對話界面
│  │  ├─ 一致性評估
│  │  │  ├─ 一致性分數（85%）
│  │  │  └─ 改進建議
│  │  └─ 風格符合度
│  │
│  └─ 創建/保存按鈕
│
└─ 左側預覽面板（始終顯示）
   ├─ Persona 摘要
   ├─ 對話範例
   └─ 一致性指標
```

**關鍵設計決策**:
- **引導式 Builder**: 解決 Journey 2 痛點「配置選項太多，不知道如何設置」
- **風格範例對話**: 解決機會點「提供風格範例對話」
- **實時預覽**: 讓用戶看到設置的實際效果
- **一致性評估**: 解決機會點「自動評估 Persona 一致性」
- **推薦範例數量**: 解決痛點「不知道要添加幾個 Few-Shot 範例」

---

### 9. 📈 監控與分析

**目標用戶**: 主要 David (Enterprise Admin)，次要 Alex (Developer)
**主要功能**: 系統監控、性能分析、成本追蹤
**設計優先級**: 🟡 P1

**頁面結構**:

#### 9.1 系統概覽 Dashboard
```
監控 Dashboard
├─ 關鍵指標卡片（頂部）
│  ├─ API 調用量
│  │  ├─ 今日/本週/本月
│  │  ├─ 趨勢圖（迷你圖）
│  │  └─ 同比增長
│  │
│  ├─ 活躍 Agents
│  │  ├─ 當前活躍數量
│  │  └─ 總 Agents 數量
│  │
│  ├─ 系統健康
│  │  ├─ 健康狀態（✅ 正常）
│  │  ├─ 告警數量
│  │  └─ 詳情鏈接
│  │
│  └─ 成本統計
│     ├─ 今日/本月成本
│     ├─ 預算使用率（65%）
│     └─ 成本趨勢
│
├─ 資源使用圖表
│  ├─ API 調用趨勢（時間序列圖）
│  ├─ Token 使用量（堆疊柱狀圖）
│  │  ├─ Prompt Tokens
│  │  └─ Completion Tokens
│  └─ 成本分析（餅圖）
│     ├─ 按 Agent 分組
│     └─ 按 LLM 模型分組
│
├─ Top Agents 表格
│  ├─ Agent 名稱
│  ├─ 調用次數
│  ├─ 平均響應時間
│  ├─ 成功率
│  └─ 成本
│
└─ 最近告警
   ├─ 告警列表（最近 10 條）
   │  ├─ 時間
   │  ├─ 級別（錯誤/警告/信息）
   │  ├─ 告警內容
   │  └─ 狀態（已處理/未處理）
   └─ 查看全部告警
```

#### 9.2 Agent 性能分析
```
Agent 性能分析
├─ Agent 選擇器
│  └─ 選擇要分析的 Agent
│
├─ 性能指標（時間範圍選擇：日/週/月）
│  ├─ 調用統計
│  │  ├─ 總調用次數
│  │  ├─ 成功/失敗次數
│  │  └─ 成功率趨勢圖
│  │
│  ├─ 響應時間
│  │  ├─ 平均響應時間
│  │  ├─ P50 / P95 / P99
│  │  └─ 響應時間分佈圖
│  │
│  ├─ Token 使用
│  │  ├─ 總 Token 數
│  │  ├─ 平均 Token/請求
│  │  └─ Token 使用趨勢
│  │
│  └─ 成本分析
│     ├─ 總成本
│     ├─ 平均成本/請求
│     └─ 成本趨勢圖
│
└─ 錯誤分析
   ├─ 錯誤率趨勢
   ├─ 常見錯誤類型（TOP 10）
   └─ 錯誤詳情列表
```

#### 9.3 日誌查詢
```
日誌查詢
├─ 查詢條件
│  ├─ 時間範圍
│  ├─ Agent 篩選
│  ├─ 日誌級別（ERROR/WARN/INFO/DEBUG）
│  ├─ 關鍵詞搜索
│  └─ 查詢按鈕
│
├─ 日誌列表
│  ├─ 時間
│  ├─ 級別
│  ├─ Agent
│  ├─ 消息
│  ├─ 詳情按鈕
│  └─ 分頁控制
│
└─ 日誌詳情（彈窗）
   ├─ 完整日誌內容
   ├─ 上下文日誌
   ├─ 堆棧跟蹤（如有）
   └─ 導出按鈕
```

**關鍵設計決策**:
- **統一 Dashboard**: David 需要的「統一管理平台」
- **成本追蹤**: 解決痛點「成本難以追蹤」
- **性能監控**: 確保系統穩定性（99.9%）
- **告警機制**: 主動發現和通知問題

---

### 10. ⚙️ 系統設置

**目標用戶**: 主要 David (Enterprise Admin)
**主要功能**: 系統配置、用戶管理、安全設置
**設計優先級**: 🟡 P1

**頁面結構**:

#### 10.1 基本設置
```
基本設置
├─ LLM Provider 配置
│  ├─ Provider 列表
│  │  ├─ Azure OpenAI
│  │  │  ├─ API Endpoint
│  │  │  ├─ API Key
│  │  │  ├─ API Version
│  │  │  └─ 測試連接按鈕
│  │  ├─ OpenAI
│  │  └─ Anthropic Claude
│  └─ 默認 Provider 選擇
│
├─ 默認參數
│  ├─ 默認模型
│  ├─ 默認 Temperature
│  ├─ 默認 Max Tokens
│  └─ 超時時間
│
└─ 保存更改按鈕
```

#### 10.2 安全與權限
```
安全與權限
├─ 用戶管理
│  ├─ 用戶列表
│  │  ├─ 用戶名
│  │  ├─ 郵箱
│  │  ├─ 角色
│  │  ├─ 狀態（活躍/禁用）
│  │  └─ 操作
│  │     ├─ 編輯
│  │     ├─ 禁用/啟用
│  │     └─ 刪除
│  └─ 添加用戶按鈕
│
├─ 角色與權限
│  ├─ 角色列表
│  │  ├─ 管理員（Admin）
│  │  ├─ 開發者（Developer）
│  │  ├─ 分析師（Analyst）
│  │  └─ 查看者（Viewer）
│  │
│  └─ 權限矩陣
│     ├─ Agent 管理（創建/編輯/刪除/查看）
│     ├─ 對話管理
│     ├─ 知識庫管理
│     ├─ 系統設置
│     └─ 監控與分析
│
└─ 審計日誌
   ├─ 日誌列表
   │  ├─ 時間
   │  ├─ 用戶
   │  ├─ 操作類型
   │  ├─ 操作對象
   │  └─ 結果
   └─ 導出審計日誌
```

**關鍵設計決策**:
- **用戶管理**: 解決痛點「缺乏統一管理平台」
- **角色與權限**: RBAC 權限管理
- **審計日誌**: 解決需求「可以看到所有操作記錄」
- **安全合規**: 支持企業安全和合規需求

---

## 二級導航與面包屑

### 面包屑導航模式

所有頁面都包含面包屑導航，格式如下：

```
首頁 > Agents 管理 > Agent 詳情 > Persona 配置
```

**設計原則**:
- 最多 4 層深度
- 每層都可點擊返回
- 當前頁面不可點擊（灰色）
- 移動端自動收起為 "< 返回"

---

## 全局導航元素

### 頂部導航欄
```
┌────────────────────────────────────────────────────────────┐
│ Logo  [搜索框]   🔔通知  👤用戶菜單                          │
└────────────────────────────────────────────────────────────┘
```

**用戶菜單**:
- 個人設置
- API Keys
- 偏好設置
- 幫助與支持
- 登出

**通知中心**:
- 系統通知
- Agent 狀態變更
- 告警通知
- 任務完成通知

### 左側主導航（可折疊）
```
├─ 🏠 首頁
├─ 🤖 Agents
├─ 💬 對話
├─ 🧠 知識庫
├─ 🔬 Code Interpreter
├─ 📊 Text-to-SQL
├─ 🔄 工作流
├─ 👤 Persona
├─ 📈 監控（僅 Admin）
├─ ⚙️ 設置（僅 Admin）
└─ 📚 幫助
```

**折疊狀態**:
- 展開: 顯示圖標 + 文字
- 折疊: 僅顯示圖標 + Tooltip

---

## 角色化視圖

### Alex (Developer) 視角
**優先顯示**:
- Agents 管理
- 工作流編輯器
- Persona Designer
- 測試與調試工具

**隱藏/弱化**:
- 成本追蹤（不是主要關注點）
- 用戶管理（無權限）

### Sarah (Analyst) 視角
**優先顯示**:
- Code Interpreter
- Text-to-SQL
- 對話管理
- 導出功能

**隱藏/弱化**:
- 複雜的 Agent 配置（使用模板即可）
- 工作流設計（使用現有工作流）

### David (Admin) 視角
**優先顯示**:
- 監控 Dashboard
- 用戶管理
- 成本追蹤
- 審計日誌

**隱藏/弱化**:
- 具體的 Agent 創建（委派給團隊）

---

## 快捷訪問優化

### 核心功能快捷入口

**全局快捷鍵**:
- `Ctrl/Cmd + K`: 全局搜索
- `Ctrl/Cmd + N`: 創建新 Agent
- `Ctrl/Cmd + E`: 打開 Code Interpreter
- `Ctrl/Cmd + Q`: 打開 Text-to-SQL
- `Ctrl/Cmd + /`: 打開幫助

**常用任務快捷入口**:
- Dashboard 快捷操作按鈕
- 右下角懸浮按鈕（主要 CTA）
- 上下文菜單（右鍵）

---

## 移動端適配

### 響應式導航

**移動端（< 768px）**:
- 頂部: Logo + 漢堡菜單 + 通知 + 用戶頭像
- 左側導航收起為抽屜（Drawer）
- 面包屑收起為 "< 返回" 按鈕
- 標籤頁改為下拉選擇器

**平板端（768px - 1024px）**:
- 左側導航默認折疊（僅圖標）
- 保留面包屑導航
- 標籤頁保留

---

## 搜索與導航

### 全局搜索 (Cmd/Ctrl + K)

**搜索範圍**:
- Agents
- 對話
- 知識庫
- 工作流
- Personas
- 幫助文檔

**搜索結果分組**:
```
搜索: "客服"

Agents (2)
  ├─ 客服助手 Agent
  └─ 客服工作流 Agent

工作流 (1)
  └─ 客服流程

Personas (1)
  └─ 專業客服風格

幫助文檔 (3)
  └─ 如何創建客服 Agent
```

---

## 總結

### 設計特點

1. **任務導向**: 按用戶任務流程組織，而非技術模組
2. **層次清晰**: 最多 3 層深度，核心功能 ≤2 次點擊
3. **角色適配**: 不同角色看到對應的功能和優先級
4. **快速訪問**: 多種快捷入口（Dashboard、快捷鍵、右鍵菜單）
5. **移動友好**: 響應式設計，適配移動和平板設備

### 核心優先級

**P0（必須實現）**:
- Agents 管理（創建、配置、測試）
- 對話管理（多模態聊天）
- Knowledge Base（上傳、檢索配置）
- Code Interpreter（數據分析、導出）
- Text-to-SQL（自然語言查詢）
- Multi-Agent Workflow（可視化編輯、執行監控）
- Persona Designer（引導式創建、一致性評估）

**P1（重要）**:
- 監控 Dashboard（系統健康、成本追蹤）
- 用戶管理（RBAC、審計日誌）
- 模板庫（Agent、Persona、工作流）

**P2（優化）**:
- 高級搜索和篩選
- 批量操作
- 社區和分享功能
